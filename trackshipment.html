<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en-US" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths win win-10_0 webkit chrome chrome-92 chrome-92_0_4515_131 k-webkit k-webkit92 general logged"><head id="Head"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}
.geofencing{
  position: relative;
  display: inline-block;
}

.geofencing .geofencing-details {
  visibility: hidden;
  min-width: 300px;
  background-color: #fff;
  color: #000;
  border-radius: 6px;
  padding: 5px 10px;
  margin-left: 530px;
  box-shadow: 0 4px 4px 6px rgb(0 0 0 / 20%);
  /* Position the tooltip */
  position: absolute;
  z-index: 99999;
}

.geofencing:hover .geofencing-details {
  visibility: visible;
}

</style>
<!-- <style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style> -->
<style type="text/css">[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>

<title>
	Track Shipment
</title><meta id="MetaKeywords" name="KEYWORDS" content=",DotNetNuke,DNN"><meta id="MetaGenerator" name="GENERATOR" content="DotNetNuke "><meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW"><link href="./css/default.css" type="text/css" rel="stylesheet"><link href="./css/module.css" type="text/css" rel="stylesheet"><link href="./css/skin.css" type="text/css" rel="stylesheet"><script async="" src="./js/analytics.js"></script><script src="./js/jquery.js" type="text/javascript"></script><script src="./js/jquery-ui.js" type="text/javascript"></script><meta name="viewport" content="width=device-width,initial-scale=1"><link href="./css/enUS.css" type="text/css" rel="stylesheet"></head>
<body id="Body">
    
<form method="post" action="#" id="Form" enctype="multipart/form-data">
<div class="aspNetHidden">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="">
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="jMC8ux023nuhFgnNppIZhkdPhxfEi9/MhjULCPSUnnrpS2gm71pQuD5/Nl4MIyMlCsIBK0hCw5pqv9I0ai8DLIm/6HVkP3wsfhzP3FDxXUZdwNoju+PHuO1iJfAgKnWdYQPJDxTaiEBY1hf65gU70feVcxDFs4n0Ses+Xb+l9sIUlQSWCP2PU8BB1iA=">
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['Form'];
if (!theForm) {
    theForm = document.Form;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="CA0B0334">
	<input type="hidden" name="__VIEWSTATEENCRYPTED" id="__VIEWSTATEENCRYPTED" value="">
	<input type="hidden" name="__PREVIOUSPAGE" id="__PREVIOUSPAGE" value="KNiZiHexPoVKOx2L-TZK6V1x7ZVDguk0-5FDsXrGBw3h5VgFljksJKLVrGo1">
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="LJWSAruka68AjsB9WIPa6ylTrFEN9VyVFMgAnSPKo6znrlLMCEeX1yHE7LHrFe+dVmqkU7kMfeAOM5NOkCX+xXQtMK3PaLe9kst/B27Mzx18XUJEKBQg9zvQ/qSMAC/XmnBIoeZ9A7/ujpiXn4iijJM9oxLAoO7vm07+cN2UxUqfvOJeb6MLBvrDsjwYf+uxyOFz9W+7eRxl3h6mdzxl6Zw4z/RmQ1C3J0qu2zgSFZRbAr7WNlfdqkpbcWOMx8nQ3WNDEahNJWTO4IeDRgzeFV6Swoo=">
</div><script src="./js/dnn.modalpopup.js" type="text/javascript"></script><script src="./js/dnncore.js" type="text/javascript"></script>

<!--
<script src="./Track_Shipment_files/WebResource.axd" type="text/javascript"></script>
<script src="./Track_Shipment_files/ScriptResource.axd" type="text/javascript"></script>
<script src="./Track_Shipment_files/ScriptResource(1).axd" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('ScriptManager', 'Form', [], [], [], 90, '');
//]]>
</script>-->

        
        
        

<link href="./css/app.menu.css" rel="stylesheet">
<!-- Google Analytics -->
<script src="./js/ga.js"></script>

<!-- JavaScript -->
<script src="./js/skin.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script src="./js/bootstrap-toggle.min.js"></script>
<script src="./js/modernizr.js"></script>
<script src="./js/main.js"></script>
<script src="./js/angular_1.2.20_angular.min.js"></script>
<script src="./js/bootstrap-tagsinput.min.js"></script>
<script src="./js/bootstrap-tagsinput-angular.min.js"></script>
<script src="./js/bootstrap-select.min.js"></script>
<script src="./js/typeahead.bundle.js"></script>
<script src="./js/bootstrap-datepicker_1.9.0.js"></script>
<script src="./js/lodash.min_4.17.15.js"></script>
<script src="./js/i18next.min.js"></script>
<script src="./js/i18nextXHRBackend.min.js"></script>
<script src="./js/old_version_browser.js"></script>
<script src="./js/jquery-i18next.min.js"></script>
<script src="./js/jquery.bind-first-0.2.3.min.js"></script>
<script src="./js/jquery.signalR-2.2.1.min.js"></script>
<script src="./js/hubs.js"></script>

<!-- Styles -->
<link href="./css/bootstrap.min.css" rel="stylesheet">
<link href="./css/bootstrap-toggle.min.css" rel="stylesheet">
<link href="./css/jquery-ui.css" rel="stylesheet">
<link href="./css/toggle-switch.css" rel="stylesheet">
<link href="./css/bootstrap-select.min_1.12.4.css" rel="stylesheet">
<link href="./css/bootstrap-datepicker_1.9.0.css" rel="stylesheet">
<link href="./css/bootstrap-tagsinput.css" rel="stylesheet">
<link href="./css/typeaheadjs.css" rel="stylesheet">
<link href="./css/style.css" rel="stylesheet">
<link href="./css/skin.css" rel="stylesheet">
	
<!-- IE8 -->
<!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<script>
var _currentCulture = 'en-US';

if (document.location.href.indexOf("/0/OldBrowser") == -1) {
var browser = BrowserDetect.browser ? BrowserDetect.browser.name : undefined;
var version = BrowserDetect.browser ? BrowserDetect.browser.value : undefined;

	if (browser && browser.toUpperCase() == "MSIE" && parseInt(version.substring(0,version.indexOf("."))) <= 10) {
		document.location.href = "/0/OldBrowser";
	}

	
}

<!-- i18n -->
jqueryI18next.init(i18next, $, {
	tName: 't',
	i18nName: 'i18n',
	handleName: 'localize',
	selectorAttr: 'data-i18n',
	targetAttr: 'i18n-target',
	optionsAttr: 'i18n-options',
	useOptionsAttr: false,
	parseDefaultValueFromContent: true
});

i18next.use(window.i18nextXHRBackend).init({
	fallbackLng: 'en-US',
	lng: _currentCulture,
	backend: {
	  loadPath: './locales/{{ns}}_{{lng}}.json',
	  addPath: './locales/add/{{ns}}_{{lng}}.json', // unused
	  allowMultiLoading: false
    }
}, function(err, t) {
	$("html").localize();
});

$(function() {
	i18nInitCore("20191219");
});

</script>

<!-- Error Message Template -->
<script id="error_main_template" type="text/x-template">
    <div class="error-box">
        <p class="error-message">$ERR_MESSAGE$</p>
        <div class="errorTable">
            <div class="errorTableBody">
                $ERR_ITEMS$
            </div>
        </div>
    </div>
</script>
<script id="error_item_template" type="text/x-template">
    <div class="errorTableRow">
        <div class="errorTableCell">$ERR_TITLE$</div>
        <div class="errorTableCell"><span class="awb">$ERR_DESCRIPTION$</span></div>
    </div>
</script>

<div class="d-off-canvas-wrapper d-example general_nav">
	<div class="general_nav_inner" style="overflow: hidden;">	
			<div class="flex-box-container">
				<!-- Menu -->
				<div id="app" class="wrap"><div data-v-6b6bd2ad="" class="wrap" style=""><div data-v-6b6bd2ad="" id="mobile_logo" title="EzyCargo" class="header-wrapper__logo logo"></div><div data-v-6b6bd2ad="" id="logo" class="logo-container"><a data-v-6b6bd2ad="" class="closebtn" style="display: none;"><svg data-v-6b6bd2ad="" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" class="svg-inline--fa fa-times fa-w-11 fa-1x"><path data-v-6b6bd2ad="" fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" class=""></path></svg></a></div><div data-v-6b6bd2ad="" id="hamburger"><span data-v-6b6bd2ad=""></span><span data-v-6b6bd2ad=""></span><span data-v-6b6bd2ad=""></span></div><div data-v-6b6bd2ad="" id="myNav"><nav data-v-496691e8="" data-v-6b6bd2ad="" id="menu" class="overlay-content" style="height: 10px;"><div data-v-496691e8="" id="nav_menu"><div data-v-496691e8="" class="menu-header-container"><a data-v-496691e8="" href="#" title="Ezycargo_UAT" oncontextmenu="return false;" class="header-wrapper__logo logo" style="width: 100px; height: 40px;"></a>
				
				<a data-v-496691e8="" href="./index.html" id="menudashboardlink" title="Dash board" oncontextmenu="return false;" class="menudashboardlink"><div data-v-496691e8="" class="menudashboard"> Dashboard </div></a>
				
				<a data-v-496691e8="" href="./booking.html" style="text-decoration: none" id="menulink" oncontextmenu="return false;" class="menulink"><p data-v-496691e8="" id="dropdownHeader_0" class="mainMenu"> Booking </p></a>
				
				<a data-v-496691e8="" href="./trackshipment.html" style="text-decoration: none" id="menulink" oncontextmenu="return false;" class="menulink"><p data-v-496691e8="" id="dropdownHeader_1" class="mainMenu"> Track Shipment </p></a>
				
				<!----></div></div><form data-v-496691e8="" id="form1" method="post" action="/trackshipment"><input data-v-496691e8="" type="hidden" id="CompanyID" name="CompanyID" value=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="UserID" name="UserID" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="SessionID" name="SessionID" value=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="CompanyPIMA" name="CompanyPIMA" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="COSACID" name="COSACID" value=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="CompanyName" name="CompanyName" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="TargetURL" name="TargetURL" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="Lang" name="Lang" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="ApiToken" name="ApiToken" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="RefreshToken" name="RefreshToken" value=""><br data-v-496691e8=""><br data-v-496691e8=""><input data-v-496691e8="" type="hidden" id="ApiTokenExpiryTime" name="ApiTokenExpiryTime" value=""><br data-v-496691e8=""><br data-v-496691e8=""></form></nav></div></div></div>
				

<div class="navbar-form navbar-right">
    <div id="profile_blk" class="profile_blk">
	    <div class="notify">
		    <div class="notify_switch disabled" data-toggle="dropdown" id="dropdownMenu1"></div>
            <div id="profile_alert_cnt" class="disabled"><span>0</span></div>
		    <div aria-labelledby="dropdownMenu1" class="panel_news">			
		    </div>
	    </div>
        <span class="divider_v disabled"></span>
	    <div class="profile_txtblk">
		    <div aria-expanded="false" class="profile_switch" data-toggle="dropdown" id="dropdownMenu9">
			    <div class="profile_co">
				    <span id="profile_companyid">Test Account</span>
			    </div>
			    <div class="profile_user">
				    <span id="profile_username">Test User</span>
			    </div>
		    </div>
		    <div aria-labelledby="dropdownMenu9" class="profile_panel">
				<a id="dnn_GLS_PROFILE_lnkLogout" data-i18n="common.Logout" href="#">Logout</a>
				
				
		    </div>
		    <div class="profile_close"></div>
	    </div>
    </div>
</div>
<script>
    setTimeout(function () {
	    $("html").addClass("logged");
    }, 1000);
</script>			
			</div>
	</div>
</div>


<!-- Page Content -->
<div class="pageContent">
<main role="main">
<div id="dnn_ContentPane" class="contentPane">
<div class="DnnModule DnnModule-TrackAndTrace DnnModule-385"><a name="385"></a>
<div class="DNNContainer_noTitle logged js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">
<div id="dnn_ctr385_ContentPane"><!-- Start_Module_385 -->
<div id="dnn_ctr385_ModuleContent" class="DNNModuleContent ModTrackAndTraceC">
<div id="mvcContainer-385">
    

    <script src="./js/lib_tnt.js"></script>
    <script src="./js/jquery.signalR-2.2.1.min.js"></script>
    <script src="./js/hubs.js"></script>

    <!-- MODIFICATION START : Added at 20200830 for javascript used by revamped Shipment Status -->
    <!-- START -- Vue/Vuetify required -->
    <!-- CDN -->
    <!--<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>-->
    <!-- LOCAL -->
    <!--<script src="~/DesktopModules/MVC/TrackAndTrace/js/vue.js"></script>-->
    <script src="./js/moment.min.js"></script>

    <!-- END -- Vue/Vuetify required -->
    <!-- START -- OpenStreetMap Leaflet.js required -->
    <script src="./js/leaflet.js"></script>
    <script src="./js/leaflet.rotatedMarker.js"></script>
    <!-- END -- OpenStreetMap Leaflet.js required -->
    <!-- START -- Kendo UI required -->
    <!-- CDN -->
    <!--<script src="https://kendo.cdn.telerik.com/2020.2.617/js/kendo.all.min.js"></script>-->
    <!-- LOCAL -->
    <script src="./js/kendo.all.min.js"></script>

    <!-- END -- Kendo UI required -->
    <!-- START -- Axios and Promise (required by IE11 when using axios) for getting AWB Device Sensor Readings from NGTT API -->
    <!-- CDN -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.15.3/axios.min.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>-->
    <!-- LOCAL -->
    <script src="./js/es6-promise.min.js"></script>
    <script src="./js/es6-promise.auto.min.js"></script>
    <script src="./js/axios.min.js"></script>
    <!-- END -- Axios for getting AWB Device Sensor Readings from NGTT API -->
    
    <!-- START -- Shipment Status related JavaScript -->
    <!-- Shipment Status -->
    <script src="./js/shipment-status-v1.1.js"></script>
	
	<!-- START -- Shipment Status and SensorReadings Configuration -->
	<script src="./js/shipment-status-config-v1.4.js"></script>
	<!-- END -- Shipment Status and SensorReadings Configuration -->
    <!-- Map -->
    <script src="./js/shipment-status-map-v1.5.js"></script>
    <!-- Sensor Readings  -->
    <script src="./js/shipment-status-sensor-readings.js"></script>
    <!-- END -- Shipment Status related JavaScript -->
	<script src="./js/shipment-status-LH-mapper.js"></script>
    <script src="./js/shipment-status-DCSA-mapper.js"></script>
    <script src="./js/jsonpatch.js"></script>
    <script src="./js/jsonpatch.min.js"></script>
    <!-- MODIFICATION END : Added at 20200830 for javascript used by revamped Shipment Status -->


    <script>
        var maxAWBCnt = 10;
        var tntHub;
        var timeoutHandle = -1;
        var searchSingle = false;
        var receivedContent = null;
        var receivedContent_res = null;  //Added at 20201208 for tntDisplaySingleV2 function
        var expectingResponseCnt = 0;
        var receivedResponseCnt;
        var singleLineContent;
        var recheckMode = false;

        var displayStatus = {
            error: -1,
            search: 0,
            loading: 1,
            single: 2,
            multi: 3
        };

        var validAirline = ["3S", "6T", "7T", "AC", "AF", "AT", "AZ", "BA", "BR", "CI", "CV", "CX", "D0", "D5", "DL", "ES", "ET", "FI", "JL", "KA", "KE", "KK", "KL", "KZ", "L3", "LD", "LH", "LO", "LX", "MK", "NH", "NW", "PO", "QF", "QR", "QY", "RU", "SK", "SQ", "SV", "TG", "UA", "UO", "V4"]

        function MapStatusText(status) {
            if (statusMapping[status] == null)
                return status;
            else
                return statusMapping[status];
        }

        $(function () {
            // $("#tnt_awbPrefix").val("020");
            // $("#tnt_awbSuffix").val("94616653");
            $("#tnt_multi_input").val("160-77777770; 020-94616653; 157-61239012; 020-89403090; ");
            enableClassicLink("/");

            i18nInit("MVC/TrackAndTrace", "20181127002");

            var airlineList = "";

            for (var i = 0; i < validAirline.length; i++) {
                airlineList += validAirline[i];

                if (i % 8 == 7)
                    airlineList += "<br>"
                else if (i != validAirline.length - 1)
                    airlineList += " , "
            }

            $("#tnt_airline_help").html($("#tnt_airline_help").html().replace("$AIRLINES$", airlineList));


            $("#tnt_searchSingle").on('click', function () {
                $("#tnt_back_to_multi_block").addClass("disabled");

                var awb = $("#tnt_awbPrefix").val() + "-" + $("#tnt_awbSuffix").val();
                if (!isAWB(awb)) {
                    alert(awb + " is not a valid air waybill number.");
                    return;
                }

                tntTriggerSearch(false, true);
            });

			
            $("#tnt_searchMulti").on('click', function () {

                var awb = $("#tnt_multi_input").val();

                var awbs = awb.replace(/\n/g, ";").split(';');
                //debugger;

                if (awbs.length > maxAWBCnt) {
                    alert(i18next.t("tnt.ERR_MAX_AWB"));
                    return;
                }

                for (var i = 0; i < awbs.length; i++) {
                    if (awbs[i].trim().length > 0 && !isAWB(awbs[i].trim())) {
                        alert(awbs[i] + " is not a valid air waybill number.");
                        return;
                    }
                }

                tntTriggerSearch(true, false);
            });



            $("#tnt_awbPrefix").keyup(function (e) {
                if ($("#tnt_awbPrefix").val().length == 3) {
                    $("#tnt_awbSuffix").focus();
                }
            });

            $("#tnt_awbSuffix").keyup(function (e) {
                if ($("#tnt_awbSuffix").val().length == 8 && e.keyCode == 13) {
                    $("#tnt_searchSingle").click();
                }
            });

            $("#tnt_multi_input").keydown(function (e) {
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                    (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode === 86 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode === 88 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                    return;
                }
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105) && e.keyCode != 189) {
                    e.preventDefault();
                }
            });

            var delay = (function () {
                var timer = 0;
                return function (callback, ms) {
                    clearTimeout(timer);
                    timer = setTimeout(callback, ms);
                };
            })();

            $("#tnt_multi_input").on('keyup', function (e) {
                if (e.keyCode == 8) return;

                if (e.keyCode == 13)
                    $("#tnt_searchMulti").click();

                delay(function () {
                    var position = this.selectionStart;
                    var text = $("#tnt_multi_input").val();

                    var awbs = text.replace(/\n/g, ";").split(";");

                    var finalText = "";

                    var errorMessage = "";

                    for (var i = 0; i < awbs.length; i++) {

                        var awb = awbs[i];

                        awb = awb.replace("-", "").trim();

                        if (awb.length > 11) {
                            awb = awb.substring(0, 11);
                        }

                        if (awb.length >= 3) {
                            awb = awb.insert(3, "-");
                        }

                        if (!isAWB(awb) && awb.length == 12) {
                            errorMessage += awbs[i] + " is invalid\n"
                            awb = awbs[i];
                        }

                        if (awb != "") {
                            finalText += awb;

                            if (i != awbs.length - 1 || isAWB(awb))
                                finalText += "; ";
                        }
                    }

                    if (errorMessage != "") alert(errorMessage);

                    console.log(text);

                    $("#tnt_multi_input").val(finalText);
                    this.selectionEnd = position;
                }, 200);
            });

            $("#tnt_response_time").on('click', function () {
                tntTriggerSearch(false, true);
            });

			

            if ((window.performance && window.performance.navigation.type == window.performance.navigation.TYPE_BACK_FORWARD) || (getCookie("SwitchLang") == "true")) {
                if (localStorage.getItem("tntLine") != null && localStorage.getItem("tntLine") != "") {
                    tntDisplaySingle();
                    return;
                }
                else if (localStorage.getItem("tntMultiLine") != null && localStorage.getItem("tntMultiLine") != "") {
                    tntDisplayMulti();
                    return;
                }
            }

			

			
            localStorage.setItem("tntLine", "");
            localStorage.setItem("tntMultiLine", "");

            var single = getParameterByName('single');
            var singlef = getParameterByName('singlef');
            var multi = getParameterByName('multi');
            if (single != null) {
                if (getParameterByName('d') != null)
                    $("#tnt_back_to_dashboard").removeClass("disabled");
                $("#tnt_awbPrefix").val(single.substr(0, 3));
                $("#tnt_awbSuffix").val(single.substr(4, 12));
                tntTriggerSearch(false, true);
                return;
            }
            if (singlef != null) {
                if (getParameterByName('d') != null)
                    $("#tnt_back_to_dashboard").removeClass("disabled");
                $("#tnt_awbPrefix").val(singlef.substr(0, 3));
                $("#tnt_awbSuffix").val(singlef.substr(4, 12));
                tntTriggerSearch(false, true);
                return;
            }
            else if (multi != null) {
                $("#tnt_multi_input").val(multi);
                tntTriggerSearch(true, false);
                return;
            }
			
			
			//202109  display AWB 160-77777770
			//tntDisplaySingleV2('');
        });


        function tntTriggerSearch(multi, forceUpdate) {
            //if (forceUpdate == null) forceUpdate = false;
            forceUpdate = true;

            clearInterval(timeoutHandle);

            // disable for demo
            // if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.connected) {
            //     $.connection.hub.stop();
            //     tntTriggerSearch(multi, forceUpdate);
            //     return;
            // }

            // if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.disconnected) {
            //     $.connection.hub.start().done(function () {
            //         tntPerformSearch(multi, forceUpdate);
            //     });
            // }
            // else {
            //     tntPerformSearch(multi, forceUpdate);
            // }
            // end
            
            // $.getJSON("json/OneRecord_160-77777770.json", function(json) {
			// 	objOneRecord = json;
			// });

            // $.getJSON("json/Notification.json", function(json) {
            //     objNotification = json;
            // });
            // tntToggleDisplay(displayStatus.single);
            // tntDisplaySingleV2("");
            tntPerformSearch(multi, forceUpdate);
        }

        function tntPerformSearch2(multi, forceUpdate){
            var awbPrefix = $("#tnt_awbPrefix").val();
            var awbSuffix = $("#tnt_awbSuffix").val();
            // var awbPrefix = "020";
            // var awbSuffix = "89313173";
            var company;
            switch(awbPrefix){
                case "160": company = "CX"; break;
                case "020": company = "LH"; break;
            }

            if(company == "CX"){
                 var url = "https://sc-test-api-ezyonerecord.ezbiz.com/sb-onerecordapi/companies/" + company + "/los/" + awbPrefix + "-" + awbSuffix + "/events"
                 $.ajax({
                    method: "GET",
                    url: url,
                    timeout: 3000,
                    beforeSend: function (xhr) {
                         xhr.setRequestHeader('Authorization', 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJlenljYXJnb2FwaSIsIm5iZiI6MTYzMTI1NDY3NiwiZXhwIjoxNjMzOTMzMTM2LCJpYXQiOjE2MzEyNTQ3MzYsImRhdGEiOiJkOGFEVHlWbFpJM1B6eWhnTHh6Q1BYeUlxcXpNV0dQaEFDU1dCS3ZBU2YrMzU5N1IwcXg5SWsyU2tjK3A5T0lReEQxekJoSno5aURVcEZneDZIQ3UrTHBsRVRQYVIyc3ZVK0hMV3AwRHNHaTMxU0M3eGhPYVA0NUpjVUVkWWZQa2l0enhTYlowdE1OTm8yMno4ZGtJWkF6SW9qM0U1clgxWFBTa3AxdEtyU3JVa2laTCtiYXdGTlFJeGNjRTRRT0tEWlcwajF0WGg2aUNuYk04MEhLeGV0WkhzbjhFSHBPRXlYeGVmdG5PU3hKbENTUzNVbVpSSXpxT01GZ1pVTUF5QjFNQkdHUi9SNko4b2w0THRvQWkzWGlFcEhsN3EzdTBxMkpBSTVWa3RuQlJNOHh3N3JocGtmQytsdnR3SEo0NlM4ZDdCcGpPTng5d3haREQ0UXMvVFRnckg2RHFLbm5jbURiK0Y0WTFGVVF5K2pPVkczRG91UTVIWitreHhFMTBHYndOOGhzUnBiYkFCMDd6Q0trU3NUeGphMW9YNUZFdklBWjhyem1FbUdhVjJmRC9pYVgrWEYyNEZrUlhZTHlEQTFJMzdxUGFmQzZJV1dFQjZIK1Q5VGJEY2ZENnc1L2swL2VMRHdLRmFCVGxZMUZiSkVidGdkbk5CU2YxYVBGM3FUdWxlVlkwQkQwQnZFNjRFTmNNYjZPOC9LTExjN0lMNS83aVNhUXRMbHR5bjVuZ1NNdkxaSnJyVkp1M3c2aXJ5U0tKQjRRZG02V1QzVlByMVZPOWE3SklkaWdYdEJYQStaeE50RnNDZXljPSJ9.bbjn1C-T-hjejCKmS4pGkH90AHWMxnAJIXj8d52OO_DoxQq1-kwLoN0UqQaOBGhL6RuFnBg20KF0M96yq6k8BwkZ5ZhdN3rSnBiXJN7afyeZQv0SWuG75h_HowXMPHg9hptX1kLGGjB6krnv3tQp5wOmKgrsghjUvJSeL6cHny2RBGKrXcqfLMIgnuQB8qqln73gHyUDf-iZOU6XD5aZ1g9sLOyyTSpKqqobgAFL8TscwExQhzOoiaFW3pf4hEQDjibErooRrwcbwAN1ZArIelim1TxR2-6vRHH9M76pz4oOfCsMcbFeHrZLOTMyvrPsaK4rE2fVn2JcO9fG2mWslQ');
                    }
                 })
                 .done(function(data){
                     objOneRecord = data;
                     tntToggleDisplay(displayStatus.single);
                     tntDisplaySingleV2("");
                 })
                 .fail(function(err){
                    $.getJSON("json/OneRecord_160-77777770.json", function(json) {
                        objOneRecord = json;
                    });
                 });
				 
				 $.getJSON("json/Notification.json", function(json) {
                    objNotification = json;
                });

                tntToggleDisplay(displayStatus.single);
                tntDisplaySingleV2("");
            }
            else if(company == "LH"){
                $.getJSON("json/LH_020-89313173.json", function(json) {
                    objOneRecord = LHmapper(json);
					console.log(objOneRecord);
                });

                $.getJSON("json/Notification.json", function(json) {
                    objNotification = json;
                });
                tntToggleDisplay(displayStatus.single);
                tntDisplaySingleV2("");
            }
            
        }

        function convertCX(json){

        }

        function convertLH(LHJson){
            var oneRecord = {};
            $.getJSON("json/OneRecord_160-77777770.json", function(json) {
                oneRecord.ioTDevices = json.ioTDevices;
            });

            oneRecord.waybill = {
                "booking":{},
                "waybillPrefix":LHJson.shipmentTrackingStatus.shipment.shipmentId.carrierNumericCode,
                "waybillNumber":LHJson.shipmentTrackingStatus.shipment.shipmentId.aWBNumber
            };
            oneRecord.waybill.booking.transportMovement = {
                "arrivalLocation": { "code":"HKG"},
                "departureLocation": {"code":"LAX"}
            };
            //oneRecord.ioTDevices = [];
            console.log(oneRecord);
            return oneRecord;
        }

        function convertQA(json){
            
        }

        function trackAndTraceMultiSearch2(awbs){
            var multiTnt = [];
            awbs.forEach(function(awb){
                var tnt;
                var company;
                var awbPrefix = awb.split('-')[0];
                var awbSuffix = awb.split('-')[1];
                switch(awbPrefix){
                    case "160": company = "CX"; break;
                    case "020": company = "LH"; break;
                    case "157": company = "QT"; break;
                }

                if(company == "CX"){
                    
                }
                else if(company == "LH"){
                    
                }
                else if(company == "QT"){

                }
            });
            $.getJSON("json/multiTnt.json", function(json) {
                receivedContent = json;
            });

            TogglePartialLoading(false);
            tntDisplayMulti();
        }


        function tntTimeout() {
            //debugger;
            if (receivedResponseCnt == 0)
                tntHub.client.rejected("Timeout");
            else if (searchSingle)
                tntToggleDisplay(displayStatus.single);
            else {
                // tntToggleDisplay(displayStatus.multi);
                TogglePartialLoading(false);
            }

            receivedResponseCnt = 0;
            expectingResponseCnt = 0;


            $.connection.hub.stop();
        }

        function showOneRecordJson(type){
            let params = "scrollbars=yes,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=1000,height=500";
            if(type == "awb_1r"){
                var oneRecord_window = window.open("/1R_Display.html", "One Record", params);
                oneRecord_window.document.write("<head><title>One Record</title></head>");
                oneRecord_window.document.write("<pre>" + JSON.stringify(objOneRecord, null, 2) + "</pre>");
            }
            else if(type == "raw"){
                var rawData_window = window.open("/1R_Display.html", "One Record", params);
                rawData_window.document.write("<head><title>Raw Data</title></head>");
                rawData_window.document.write("<pre>" + JSON.stringify(objRawData, null, 2) + "</pre>");
            }
            
        }
		
		function showDCSAJson(DCSAseq){
            let params = "scrollbars=yes,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=1000,height=500";
            var rawData_window = window.open("/1R_Display.html", "One Record", params);
                rawData_window.document.write("<head><title>Raw Data</title></head>");
                rawData_window.document.write("<pre>" + JSON.stringify(objDCSAs[DCSAseq-1], null, 2) + "</pre>");
            
        }

        function tntPerformSearch(multi, forceUpdate) {
            ToggleLoading(true);
            receivedContent = [];
            receivedContent_res = [];    //Added at 20201208 for tntDisplaySingleV2 function
            var timeoutValue;
            recheckMode = false;

            if (!multi) {
                searchSingle = true;
                var awbPrefix = $("#tnt_awbPrefix").val();
                var awbSuffix = $("#tnt_awbSuffix").val();
                // tntHub.server.trackAndTraceSearch(awbPrefix, awbSuffix, forceUpdate);
                var company;
                switch(awbPrefix){
                    case "160": 
                        company = "CX"; 
                        break;
                    case "020": 
                        company = "LH"; 
                        break;
                    case "157":
                        company = "QT";
                        break;
                }

                $.getJSON("json/Notification.json", function(json) {
                    objNotification = json;
                });

                if(company == "CX"){
                    $.ajax({
                        method: "GET",
                        url: "https://sc-test-api-ezyonerecord.ezbiz.com/sb-onerecordapi/companies/" + company + "/los/" + awbPrefix + "-" + awbSuffix + "/events",
                        timeout: 3000,
                        beforeSend: function (xhr) {
                            xhr.setRequestHeader('Authorization', 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJlenljYXJnb2FwaSIsIm5iZiI6MTYzMTI1NDY3NiwiZXhwIjoxNjMzOTMzMTM2LCJpYXQiOjE2MzEyNTQ3MzYsImRhdGEiOiJkOGFEVHlWbFpJM1B6eWhnTHh6Q1BYeUlxcXpNV0dQaEFDU1dCS3ZBU2YrMzU5N1IwcXg5SWsyU2tjK3A5T0lReEQxekJoSno5aURVcEZneDZIQ3UrTHBsRVRQYVIyc3ZVK0hMV3AwRHNHaTMxU0M3eGhPYVA0NUpjVUVkWWZQa2l0enhTYlowdE1OTm8yMno4ZGtJWkF6SW9qM0U1clgxWFBTa3AxdEtyU3JVa2laTCtiYXdGTlFJeGNjRTRRT0tEWlcwajF0WGg2aUNuYk04MEhLeGV0WkhzbjhFSHBPRXlYeGVmdG5PU3hKbENTUzNVbVpSSXpxT01GZ1pVTUF5QjFNQkdHUi9SNko4b2w0THRvQWkzWGlFcEhsN3EzdTBxMkpBSTVWa3RuQlJNOHh3N3JocGtmQytsdnR3SEo0NlM4ZDdCcGpPTng5d3haREQ0UXMvVFRnckg2RHFLbm5jbURiK0Y0WTFGVVF5K2pPVkczRG91UTVIWitreHhFMTBHYndOOGhzUnBiYkFCMDd6Q0trU3NUeGphMW9YNUZFdklBWjhyem1FbUdhVjJmRC9pYVgrWEYyNEZrUlhZTHlEQTFJMzdxUGFmQzZJV1dFQjZIK1Q5VGJEY2ZENnc1L2swL2VMRHdLRmFCVGxZMUZiSkVidGdkbk5CU2YxYVBGM3FUdWxlVlkwQkQwQnZFNjRFTmNNYjZPOC9LTExjN0lMNS83aVNhUXRMbHR5bjVuZ1NNdkxaSnJyVkp1M3c2aXJ5U0tKQjRRZG02V1QzVlByMVZPOWE3SklkaWdYdEJYQStaeE50RnNDZXljPSJ9.bbjn1C-T-hjejCKmS4pGkH90AHWMxnAJIXj8d52OO_DoxQq1-kwLoN0UqQaOBGhL6RuFnBg20KF0M96yq6k8BwkZ5ZhdN3rSnBiXJN7afyeZQv0SWuG75h_HowXMPHg9hptX1kLGGjB6krnv3tQp5wOmKgrsghjUvJSeL6cHny2RBGKrXcqfLMIgnuQB8qqln73gHyUDf-iZOU6XD5aZ1g9sLOyyTSpKqqobgAFL8TscwExQhzOoiaFW3pf4hEQDjibErooRrwcbwAN1ZArIelim1TxR2-6vRHH9M76pz4oOfCsMcbFeHrZLOTMyvrPsaK4rE2fVn2JcO9fG2mWslQ');
                        }
                    })
                    .success(function(data){
                        objOneRecord = data;
                    })
                    .error(function(err){
                        $.getJSON("json/OneRecord_160-77777770.json", function(json) {
                            objOneRecord = json;
                        });
                    })
                    .complete(function(data){
                        tntToggleDisplay(displayStatus.single);
                        tntDisplaySingleV2("");
                    });
                }
                else if(company == "LH"){
                    var token;
                    $.ajax({
                        method: "POST",
                        url: "https://api.lufthansa.com/v1/oauth/token",
                        data:{
                            "client_id":"43v2ccz7a9f4jnnm3sj5y7xj",
                            "client_secret":"vDcpfdWWrt54Kv75JGh7",
                            "grant_type":"client_credentials"
                        }
                    })
                    .success(function(data){
                        token = data.access_token;
                    });
                    
                    if(token != undefined){
                        $.ajax({
                            method: "GET",
                            url: "https://api.lufthansa.com/v2/cargo/shipment/tracking?aWBPrefix=" + awbPrefix + "&aWBNumber=" + awbSuffix,
                            beforeSend: function (xhr) {
                                xhr.setRequestHeader('Authorization', 'Bearer '+ token);
                            }
                        })
                        .success(function(data){
                            objRawData = data;
                            objOneRecord = LHmapper(data);
                            
                        })
                        .error(function(err){
                            $.getJSON("json/LH_020-94616653.json", function(json) {
                                objOneRecord = LHmapper(json);
                            });
                        })
                        .complete(function(data){
                            var objDCSAJson;
                            $.ajax({
                                method: "GET",
                                //url: "https://6b3855c8-0747-4e25-b07a-02aeb1f454c5.mock.pstmn.io/events?eventType=TRANSPORT&bookingReference=GLS987987987"
                                url: "https://uat-apigateway.ezbiz.com/dcsa_api/events?eventType=TRANSPORT&bookingReference=GLS987987987",
                                headers:{
                                    "apiKey":"gK1Xu36sHqTt5VvfxFLGJPyyBCrsaKvM",
                                    "Access-Control-Allow-Origin": '*'
                                }
                            })
                            .success(function(data){
                                objDCSAJson = JSON.parse(data);
                            })
                            .error(function(err){
                                $.getJSON("json/DCSA.json", function(json) {
                                    objDCSAJson = json;
                                });
                            })
                            
							.complete(function(data){
                                var objDCSA = []
                                objDCSA = DCSAmapper(objDCSAJson, objOneRecord.waybill.booking.shipmentDetails.totalPieceCount,objOneRecord.waybill.booking.shipmentDetails.totalGrossWeight.value);
                                console.log(objDCSA);
                                objDCSA
                                objDCSA.forEach((dcsaEvent, index) => {
                                    var thepatch = [
                                    { "op": "add", "path": "/waybill/booking/shipmentDetails/containedPiece/0", "value": dcsaEvent }
                                    ]
                                    objOneRecord = jsonpatch.apply_patch(objOneRecord, thepatch)
                                })
                                
                                console.log(objOneRecord);
                                tntToggleDisplay(displayStatus.single);
                                tntDisplaySingleV2("");
                            });
                        });
                    }
                }
            }
            else {
                searchSingle = false;
                var awbs = $("#tnt_multi_input").val().replace(/\n/g, ";").replace(/\s/g, "").split(";");
                var awb = "";

                var count = 0;

                for (var i = 0; i < awbs.length && i < maxAWBCnt; i++) {
                    if (isAWB(awbs[i])) {
                        if (awb != "") awb += ";";
                        awb += awbs[i];
                        count++;
                    }
                }

                if (count == 1) {
                    searchSingle = true;
                    $("#tnt_awbPrefix").val(awbs[0].substring(0, 3));
                    $("#tnt_awbSuffix").val(awbs[0].substring(4, 12));
                }

                if (count >= 1) {
                    // tntHub.server.trackAndTraceMultiSearch(awb);
                    //trackAndTraceMultiSearch2(awbs);

                    // 20180731 - Build multi response table
                    var buildingHtml = $("#tnt_multi_header_template").html();
                    var buildingHtml_RCS = $("#tnt_multi_header_template").html();
                    var buildingHtml_DEP = $("#tnt_multi_header_template").html();
                    var buildingHtml_ARR = $("#tnt_multi_header_template").html();
                    var buildingHtml_DLV = $("#tnt_multi_header_template").html();
                    var buildingHtml_OTHER = $("#tnt_multi_header_template").html();

                    $("#tnt_multi_content_DEP").html(buildingHtml_DEP);
                    $("#tnt_multi_cnt_DEP").html(0);
                    $("#tnt_multi_cnt_DEP").localize();
                    $("#tnt_multi_selector_DEP").addClass("disable").prop("disabled", true);

                    $("#tnt_multi_content_ARR").html(buildingHtml_ARR);
                    $("#tnt_multi_cnt_ARR").html(0);
                    $("#tnt_multi_cnt_ARR").localize();
                    $("#tnt_multi_selector_ARR").addClass("disable").prop("disabled", true);

                    $("#tnt_multi_content_RCS").html(buildingHtml_RCS);
                    $("#tnt_multi_cnt_RCS").html(0);
                    $("#tnt_multi_cnt_RCS").localize();
                    $("#tnt_multi_selector_RCS").addClass("disable").prop("disabled", true);

                    $("#tnt_multi_content_DLV").html(buildingHtml_DLV);
                    $("#tnt_multi_cnt_DLV").html(0);
                    $("#tnt_multi_cnt_DLV").localize();
                    $("#tnt_multi_selector_DLV").addClass("disable").prop("disabled", true);

                    $("#tnt_multi_content_OTHER").html(buildingHtml_OTHER);
                    $("#tnt_multi_cnt_OTHER").html(0);
                    $("#tnt_multi_cnt_OTHER").localize();
                    $("#tnt_multi_selector_OTHER").addClass("disable").prop("disabled", true);

                    loading_template = $("#tnt_multi_content_loading_template").html();
                    var cnt_all = 0;

                    for (var i = 0; i < awbs.length && i < maxAWBCnt; i++) {
                        if (isAWB(awbs[i])) {
                            buildingHtml += loading_template
                                .replace(/\$AWB_PREFIX\$/g, awbs[i].substring(0, 3))
                                .replace(/\$AWB_SUFFIX\$/g, awbs[i].substring(4, 12));

                            cnt_all += 1;
                        }
                    }

                    $("#tnt_multi_content_all").html(buildingHtml);
                    $("#tnt_multi_cnt_all").html(cnt_all);

                    tntToggleDisplay(displayStatus.multi);

                    /*
                        MODIFICATION START : Modified at 20200501
                        Change Date Format from dd/MM HH:mm to dd MMM HH:mm
                    */

                    $("#tnt_multi_update_time").html(new Date().toLocaleString("en-gb", { month: "short", day: "2-digit", hour: "2-digit", minute: "2-digit", hour12: false }));
                    //$("#tnt_multi_update_time").html(new Date().ToString("dd MMM HH:mm"));

                    /*
                        $("#tnt_multi_update_time").html(new Date().ToString("dd/MM HH:mm"));

                        MODIFICATION END : Modified at 20200501
                    */

                    //TogglePartialLoading(true);
                    $("#tnt_multi_cnt_all").click()

                    trackAndTraceMultiSearch2(awbs);
                }
            }
        }

        function tntDisplaySingle(tntLine) {

            if (tntLine == null) {
                if (localStorage.getItem("tntLine") != null && localStorage.getItem("tntLine") != "") {
                    tntLine = JSON.parse(localStorage.getItem("tntLine"));
                }
                else {
                    return;
                }
            } else {
                localStorage.setItem("tntLine", JSON.stringify(tntLine));
            }

            var error = false;
            var partialFailure = false;

            if (tntLine.isError == true) {
                //if (tntLine.Bookings.length == 0 && tntLine.Details.length == 0) {
                var errMsg = "";
                if (tntLine.ErrorCode.substring(0, 4) == "ERR_") {
                    errMsg = i18next.t("tnt." + tntLine.ErrorCode);
                } else {
                    errMsg = tntLine.ErrorMessage;
                }

                $("#error_message").html(CreateSkinErrorMessage("Please review the following error", tntLine.AWBPrefix + "-" + tntLine.AWBSuffix, errMsg));

                tntToggleDisplay(displayStatus.error);
                $.connection.hub.stop();
                return;
                /*}
                else {
                    $("#partial_error_message").html(CreateSkinErrorMessage("The waybill current return the following error, historical record is available below", tntLine.AWBPrefix + "-" + tntLine.AWBSuffix, tntLine.ErrorMessage));
                    partialFailure = true;
                } */
            }

            singleLineContent = tntLine;

            /*
                MODIFICATION START : Modified at 20200501
                Change Date Format from dd/MM HH:mm to dd MMM HH:mm
            */

            $("#tnt_response_time").html(getAPIDate(tntLine.CreateDT).toLocaleString("en-gb", { month: "short", day: "2-digit", hour: "2-digit", minute: "2-digit", hour12: false }));
            //$("#tnt_response_time").html(getAPIDate(tntLine.CreateDT).ToString("dd MMM HH:mm"));

            /*
                $("#tnt_response_time").html(getAPIDate(tntLine.CreateDT).ToString("dd/MM HH:mm"));

                MODIFICATION END : Modified at 20200501
            */

            var highlight_template = $("#tnt_summary_flight_template").html();
            var highlight = "";
            //debugger;
            var seq = 1;

            for (var line in tntLine.Segments) {
                highlight += highlight_template
                    .replace("$STATUS$", tntLine.Segments[line].StatusText)
                    .replace("$PORT$", tntLine.Segments[line].Port)
                    .replace("$AIRLINE$", tntLine.Segments[line].Airline)
                    .replace("$FLIGHT_NUM$", tntLine.Segments[line].FlightNum)
                    .replace("$FLIGHT_DATE$", tntLine.Segments[line].EventDate)
                    .replace("$PCS$", tntLine.Segments[line].QDPieces)
                    .replace("$WEIGHT$", tntLine.Segments[line].QDWeight)
                    .replace(/\$MILESTONE\$/g, tntLine.Segments[line].Milestone)
                    .replace("$ODD$", seq % 2 == 1 ? "l" : "r")
                    .replace("$W50$", Object.keys(tntLine.Segments).length > 1 ? "w50" : "")
                seq += 1;
            }

            var summary = $("#tnt_summary_template").html();
            summary =
                summary.replace("$AWB_NUMBER$", tntLine.AWBPrefix + "-" + tntLine.AWBSuffix.substr(0, 4) + " " + tntLine.AWBSuffix.substr(4, 4))
                    .replace("$AWB_PREFIX$", tntLine.AWBPrefix)
                    .replace("$AWB_SUFFIX$", tntLine.AWBSuffix)
                    .replace("$ORIG$", tntLine.Origin)
                    .replace(/\$DEST\$/g, tntLine.Destination)
                    .replace("$TOTAL_PCS$", tntLine.TotalPcs)
                    .replace("$TOTAL_WEIGHT$", tntLine.TotalWeight)
                    .replace("$AWBDATE$", tntLine.AWBDate)
                    .replace("$FLIGHT_INFO$", highlight)

                    /*
                        MODIFICATION START : Modified at 20200501
                        Change Date Format from yyyy-MM-dd HH:mm to dd MMM yyyy HH:mm
                    */
                    .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).toLocaleString("en-gb", { month: "short", day: "2-digit", year: "numeric", hour: "2-digit", minute: "2-digit", hour12: false }));
            //.replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("dd MMM yyyy HH:mm"));
            /*
                .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("yyyy-MM-dd HH:mm"));

                MODIFICATION END : Modified at 20200501
            */

            $("#tnt_response_summary").html(summary);

            var booking = "";
            var detail = "";
            var lastDetail = "";
            var bkd_template = $("#tnt_booking_template").html();
            var detail_template = $("#tnt_detail_template").html();
            var bookingSeq = 1;
            var detailSeq = 1;

            for (var i = 0; i < tntLine.Bookings.length; i++) {
                var line = tntLine.Bookings[i];
                //debugger;
                booking +=
                    bkd_template
                        .replace("$SEQ$", bookingSeq)
                        .replace("$ORIG$", line.DepPort)
                        .replace("$DEST$", line.ArrPort)
                        .replace("$FLIGHT_DEP_DATE$", line.DTTime)
                        .replace("$FLIGHT_ARR_DATE$", line.ATTime)
                        .replace("$AIRLINE$", line.Airline)
                        .replace("$FLIGHT_NUM$", line.FlightNum)
                        .replace("$FLIGHT_DATE$", line.MDDate)
                        .replace("$PCS$", line.QDPieces)
                        .replace("$WEIGHT$", line.QDWeight)
                        .replace("$CONFIRM$", line.Status == "CONFIRMED" ? "btn_confirm" : "btn_not_confirm")
                        .replace("$STATUSTEXT$", line.Status.split(' ').map(function (word) { return word.toLowerCase().replace(/^\w/, function (c) { return c.toUpperCase(); }) }).join(' '));

                bookingSeq = bookingSeq + 1;
            }

            detail = $("#tnt_detail_header_template").html();

            for (var i = 0; i < tntLine.Details.length; i++) {
                var line = tntLine.Details[i];

                detail +=
                    detail_template
                        .replace("$HIGHLIGHTED$", line.Highlight)
                        .replace("$SEQ$", detailSeq)
                        .replace("$STATUS$", line.StatusText)
                        .replace("$PORT$", line.Port)
                        .replace("$AIRLINE$", line.Airline)
                        .replace("$FLIGHT_NUM$", line.FlightNum)
                        .replace("$FLIGHT_DATE$", line.EventDate)
                        .replace("$PCS$", line.QDPieces)
                        .replace("$WEIGHT$", line.QDWeight)
                        .replace("$REMARKS$", line.Remarks.replace(/;/g, '<br>'))
                        .replace("$W_REMARK$", line.Remarks == "" ? "" : "w_remark");

                detailSeq = detailSeq + 1;
            }

            //Added at 20200304 : START
            //Add display for Freight Status Device and Device History Logs

            if (tntLine.Devices != null && tntLine.Devices.length > 0) {

                var device = "";

                var device_template = $("#tnt_device_template").html();
                var device_historylog_header_template = $("#tnt_device_historylog_header_template").html();
                var device_historylog_data_template = $("#tnt_device_historylog_data_template").html();

                for (var i = 0; i < tntLine.Devices.length; i++) {

                    device +=

                        device_template
                            .replace("$TEMP_LBOUND$", tntLine.Devices[i].TemperatureLBound)
                            .replace("$TEMP_UBOUND$", tntLine.Devices[i].TemperatureUBound)
                            .replace(/\$TEMP_UNIT\$/g, tntLine.Devices[i].TemperatureUnit)     //need to perform global replacement as Javascript replace method only replace the first occurrence of the matched string
                            .replace("$ULDNO$", tntLine.Devices[i].ULDNo)
                            .replace("$VOLT_ORIGIN$", tntLine.Devices[i].VoltageAtOrigin)
                            .replace("$VOLT_DESTINATION$", tntLine.Devices[i].VoltageAtDestination)
                            .replace("$VOLT_UNIT$", tntLine.Devices[i].VoltageUnit)

                    device += '<div class="ts_table w_result" >';

                    device += device_historylog_header_template

                    for (var j = 0; j < tntLine.Devices[i].DeviceHistoryLogs.length; j++) {

                        device +=
                            device_historylog_data_template
                                .replace("$SEQ$", j + 1)
                                .replace("$STATION$", tntLine.Devices[i].DeviceHistoryLogs[j].Station)
                                .replace("$LOCATION$", tntLine.Devices[i].DeviceHistoryLogs[j].Location)
                                .replace("$TEMP$", tntLine.Devices[i].DeviceHistoryLogs[j].Temperature)
                                .replace("$TEMP_UNIT$", tntLine.Devices[i].TemperatureUnit)
                                .replace("$VOLT$", tntLine.Devices[i].DeviceHistoryLogs[j].Voltage)
                                .replace("$VOLT_UNIT$", tntLine.Devices[i].VoltageUnit)

                                /*
                                    MODIFICATION START : Modified at 20200501
                                    Change Date Format from yyyy-MM-dd HH:mm to dd MMM yyyy HH:mm
                                */
                                .replace("$TIME$", tntLine.Devices[i].DeviceHistoryLogs[j].TimeOfReport.toLocaleString("en-gb", { month: "short", day: "2-digit", year: "numeric", hour: "2-digit", minute: "2-digit", hour12: false }))
                        //.replace("$TIME$", tntLine.Devices[i].DeviceHistoryLogs[j].TimeOfReport.ToString("dd MMM yyyy HH:mm"))
                        /*
                            .replace("$TIME$", tntLine.Devices[i].DeviceHistoryLogs[j].TimeOfReport.ToString("yyyy-MM-dd HH:mm"))

                            MODIFICATION END : Modified at 20200501
                        */

                    }

                    device += '</div>';

                }

            }



            //Added at 20200304 : END

            if (tntLine.Details.length == 0) {
                $("#tnt_booking_detail_toggle").removeClass("collapsed");
                $("#tnt_booking_detail").removeClass("collapse");
            } else {
                $("#tnt_booking_detail_toggle").addClass("collapsed");
                $("#tnt_booking_detail").addClass("collapse");
            }

            if (booking != "") {
                $("#tnt_booking_pane").removeClass("disabled");
                $("#tnt_booking_detail").html(booking);
            }
            else {
                $("#tnt_booking_pane").addClass("disabled");
            }


            if (tntLine.Devices != null && tntLine.Devices.length > 0) {

                $("#tnt_device_title").removeClass("disabled");
                $("#tnt_device_title").localize();
                $("#tnt_device").removeClass("disabled");
                $("#tnt_device").html(device);
                $("#tnt_device").localize();

            }
            else {


                $("#tnt_device_title").addClass("disabled");
                $("#tnt_device").addClass("disabled");

            }

            //Added at 20200304 : END

            $("#tnt_response_detail").html(detail);
            $("#tnt_response_detail").localize();

            if (tntLine.isFavourite) {
                $("#tnt_fav_switch").removeClass("off");
            }
            else {
                $("#tnt_fav_switch").addClass("off");
            }

            if (partialFailure)
                tntToggleDisplay(displayStatus.singlePartial);
            else
                tntToggleDisplay(displayStatus.single);

            if (searchSingle)
                $.connection.hub.stop();
        }


        //MODIFICATION START : Added on 20201208
        //New version of tntDisplaySingle function for displaying revamped TNT result with NGTT information
        function tntDisplaySingleV2(objResult) {
		
            initalize_ui()
            //Freight Status object
			// $.getJSON("json/OneRecord_160-77777770.json", function(json) {
			// 	objOneRecord = json;
			// });

            // $.getJSON("json/Notification.json", function(json) {
            //     objNotification = json;
            // });
			
            //objOneRecord = objResult
            
            if(objOneRecord.waybill.waybillPrefix == "020" || objOneRecord.waybill.waybillPrefix == "157"){
                $(".get_raw").show();
            }

            var UTDeviceList = [];
            var flights = [];
            var devices = [];
			console.log("objOneRecord",objOneRecord);
			if (objOneRecord.ioTDevices != undefined && objOneRecord.ioTDevices != null){
			
				UTDeviceList = objOneRecord.ioTDevices.filter(function (devices) { return devices.deviceDescription == "UltraTrackDevice"; }).sort(function (a, b) {
					return (a.deviceName > b.deviceName ? 1 : -1)
				});
			}

            // UTDeviceList[0].sensors.find(({ sensorType }) => sensorType === 'GeoLocation').sensorGeoloc.val.forEach(function(geoloc){
            //     flight = {};

            //     flight.dateTime = geoloc.measurements.measurementTimestamp.replace("Z","");
            //     flight.longitude = geoloc.geolocation.longitude;
            //     flight.latitude = geoloc.geolocation.latitude;
            //     flight.flightNum = "";
            //     flight.direction = 0;
            //     flights.push(flight);
            // });
            
            UTDeviceList.forEach(function(UTDeivce, index){
                //if(index == 0){
                device = {};
                reading = [];
                device.id = UTDeivce.deviceName;
                
                var geoloc = typeof UTDeivce.sensors.find(({ sensorType }) => sensorType === 'GeoLocation') != "undefined" ? UTDeivce.sensors.find(({ sensorType }) => sensorType === 'GeoLocation').sensorGeoloc.val : null;
                var temp = typeof UTDeivce.sensors.find(({ sensorType }) => sensorType === 'Temperature') != "undefined" ? UTDeivce.sensors.find(({ sensorType }) => sensorType === 'Temperature').sensorValue.val : null;
                var humi = typeof UTDeivce.sensors.find(({ sensorType }) => sensorType === 'Humidity') != "undefined" ? UTDeivce.sensors.find(({ sensorType }) => sensorType === 'Humidity').sensorValue.val : null;

                var recordsCount = geoloc.length;
                //console.log(UTDeivce.deviceName + " : " + geoloc + ", " + temp + ", " + humi);
                for(var i = 0; i < recordsCount; i++){
                    try{
                        flight = {};
                        r = {}

                        if(geoloc != null && geoloc.length > i){
                            flight.dateTime = geoloc[i].measurements.measurementTimestamp.replace("Z","");
                            flight.longitude = geoloc[i].geolocation.longitude;
                            flight.latitude = geoloc[i].geolocation.latitude;
                            flight.flightNum = "";
                            flight.direction = 0;
                            flights.push(flight);

                            r.longitude = geoloc[i].geolocation.longitude;
                            r.latitude = geoloc[i].geolocation.latitude;
                            r.source = "G";
                            r.light = null;
                            r.shock = null;

                            if(humi != null && humi.length > i){
                                r.humidity = parseInt(humi[i].genericMeasurement.value);
                            }
                            else{
                                r.humidity = null;
                            }

                            if(temp != null && temp.length > i){
                                r.dateTime = temp[i].measurements.measurementTimestamp.replace("Z","");
                                r.latLongDateTime = temp[i].measurements.measurementTimestamp.replace("Z","");
                                r.temperature = parseInt(temp[i].genericMeasurement.value);

                                reading.push(r);
                            }
                        }
                    }
                    catch(ex){
                        console.log(ex);
                    }
                }

                // UTDeivce.sensors.forEach(function(sensor){
                //     if(sensor.sensorType == "GeoLocation"){
                //         sensor.sensorGeoloc.val.forEach(function(geoloc){
                //             flight = {};
                //             flight.dateTime = geoloc.measurements.measurementTimestamp;
                //             flight.longitude = geoloc.geolocation.longitude;
                //             flight.latitude = geoloc.geolocation.latitude;
                //             flight.flightNum = "";
                //             flight.direction = 0;
                //             flights.push(flight);
                //         });
                //     }
                //     else if(sensor.sensorType == "Temperature"){
                //         sensor.sensorValue.val.forEach(function(temp){
                //             r = {}
                //             r.dateTime = temp.measurements.measurementTimestamp;
                //             r.longitude = null;
                //             r.latitude = null;
                //             r.source = "G";
                //             r.temperature = parseInt(temp.genericMeasurement.value);
                //             r.humidity = null;
                //             r.light = null;
                //             r.shock = null;
                //             reading.push(r);
                //         });
                //     }
                // });

                reading.sort(function (a, b) {
                    return (a.dateTime > b.dateTime ? 1 : -1)
                });

                device.reading = reading;
                devices.push(device);
                //}
            });
            flights = flights.sort(function (a, b) {
				return (a.dateTime > b.dateTime ? 1 : -1)
			});
            // devices = devices.sort(function (a, b) {
			// 	return (a.deviceName > b.deviceName ? 1 : -1)
			// });
            initialize_shipment_status();
            //Device Sensor Readings

            //Get AWB Device Sensor Readings from NGTT API by axios - START
            //awb_device_sensor_reading_url = AWB_DEVICE_SENSOR_READING_URL_PREFIX + objOneRecord.AWBPrefix + '-' + objOneRecord.AWBSuffix;
            
            objNGTTDeviceSensorReading = {};
            objNGTTDeviceSensorReading.awbNum = objOneRecord.waybill.waybillPrefix + '-' + objOneRecord.waybill.waybillNumber;
            objNGTTDeviceSensorReading.flight = flights;
            objNGTTDeviceSensorReading.devices = devices;
            console.log("objNGTTDeviceSensorReading: ", objNGTTDeviceSensorReading);

			if(true){
                // objNGTTDeviceSensorReading = JSON.parse(strJSON_NGTTDeviceSensorReading);
                //console.log("objNGTTDeviceSensorReading", objNGTTDeviceSensorReading);
                /*
                $.getJSON("json/160-00000000.json", function(json) {
                    objNGTTDeviceSensorReading = json;
                });*/
				initialize_device_sensor_reading()
            }else{
				//initialize_device_sensor_reading2()
			}
			/*
			$.getJSON("json/FreightStatus_160-77777770.json", function(response) {
				if (typeof response.data != 'object' || response.data == null || response.data.devices == null || response.data.devices.length == 0 || response.data.devices[0].reading.length == 0) {

                    //For demo purpose, for AWB No : 160-00000000, show demo sensor reading
                    if (objOneRecord.AWBPrefix + '-' + objOneRecord.AWBSuffix == '160-00000000') {
                        strJSON_NGTTDeviceSensorReading = "";
                        objNGTTDeviceSensorReading = JSON.parse(strJSON_NGTTDeviceSensorReading)
                    }
                    else {

                        //Data Return from API call is invalid, hide the Sensor Reading Section
                        $("#sensor_reading_Summary").hide()
                        return

                    }

                }
                else {

                    objNGTTDeviceSensorReading = response.data;
                    //console.log(response.data)

                }

                initialize_device_sensor_reading()
			});*/
			
			

        }
        //MODIFICATION END : Added on 20201208

        function tntDisplayMulti() {
            if (receivedContent == null) {
                if (localStorage.getItem("tntMultiLine") != null && localStorage.getItem("tntMultiLine") != "") {
                    receivedContent = JSON.parse(localStorage.getItem("tntMultiLine"));
                }
                else {
                    return;
                }
            } else {
                localStorage.setItem("tntMultiLine", JSON.stringify(receivedContent));
            }

            //MODIFICATION START : Added on 20201208 for getting/saving receivedContent_res into from/to local storage
            if (receivedContent_res == null) {
                if (localStorage.getItem("tntMultiRes") != null && localStorage.getItem("tntMultiRes") != "") {
                    receivedContent_res = JSON.parse(localStorage.getItem("tntMultiRes"));
                }
                else {
                    return;
                }
            } else {
                localStorage.setItem("tntMultiRes", JSON.stringify(receivedContent_res));
            }
            //MODIFICATION END : Added on 20201208 for getting/saving receivedContent_res into from/to local storage


            //debugger;

            $("#tnt_back_to_multi_block").removeClass("disabled");

            var buildingHtml = $("#tnt_multi_header_template").html();
            var buildingHtml_RCS = $("#tnt_multi_header_template").html();
            var buildingHtml_DEP = $("#tnt_multi_header_template").html();
            var buildingHtml_ARR = $("#tnt_multi_header_template").html();
            var buildingHtml_DLV = $("#tnt_multi_header_template").html();
            var buildingHtml_OTHER = $("#tnt_multi_header_template").html();

            var line_template = $("#tnt_multi_content_template").html();
            var line_fail_template = $("#tnt_multi_content_fail_template").html();

            var cnt_all = 0;
            var cnt_RCS = 0;
            var cnt_DEP = 0;
            var cnt_ARR = 0;
            var cnt_DLV = 0;
            var cnt_OTHER = 0;

            for (var i = 0; i < receivedContent.length; i++) {

                var tntLine = receivedContent[i];

                if (tntLine.Segments != null && tntLine.Segments.length > 0) {
                    var flight_disabled = "";
                    if (tntLine.Segments[0].FlightNum == "") {
                        flight_disabled = "disabled";
                    }
                    console.log("MilestoneStatus", tntLine.Segments[0].MilestoneStatus);
                    if (tntLine.Segments.length > 0) {
                        var lineHtml = line_template
                            .replace("$IS_FAV$", tntLine.isFavourite ? "" : "btn_img_saved off")
                            .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                            .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                            .replace("$ORIG$", tntLine.Origin)
                            .replace(/\$DEST\$/g, tntLine.Destination)
                            .replace("$AWBDATE$", tntLine.AWBDate)
                            .replace("$MILESTONE_STATUS$", tntLine.Segments[0].MilestoneStatus)
                            .replace("$STATUS$", tntLine.Segments[0].StatusText)
                            .replace("$LAST_PORT$", tntLine.Segments[0].Port)
                            .replace("$AIRLINE$", tntLine.Segments[0].Airline)
                            .replace("$FLIGHT_NUM$", tntLine.Segments[0].FlightNum)
                            .replace("$FLIGHT_DISABLED$", flight_disabled)
                            .replace("$FLIGHT_TIME$", tntLine.Segments[0].EventDate)
                            .replace("$PCS$", tntLine.Segments[0].QDPieces)
                            .replace("$WEIGHT$", tntLine.Segments[0].QDWeight)
                            .replace("$REMARKS$", tntLine.Segments[0].Remarks);

                        buildingHtml = buildingHtml + lineHtml;

                        switch (tntLine.Segments[0].Milestone) {
                            case 25:
                                buildingHtml_RCS = buildingHtml_RCS + lineHtml;
                                cnt_RCS += 1;
                                break;
                            case 50:
                                buildingHtml_DEP = buildingHtml_DEP + lineHtml;
                                cnt_DEP += 1;
                                break;
                            case 75:
                                buildingHtml_ARR = buildingHtml_ARR + lineHtml;
                                cnt_ARR += 1;
                                break;
                            case 100:
                                buildingHtml_DLV = buildingHtml_DLV + lineHtml;
                                cnt_DLV += 1;
                                break;
                            default:
                                buildingHtml_OTHER = buildingHtml_OTHER + lineHtml;
                                cnt_OTHER += 1;
                                break;

                        }
                    }

                    cnt_all += 1;
                }
                else if (tntLine.Bookings != null && tntLine.Bookings.length > 0) {
                    //debugger;
                    var lineHtml = line_template
                        .replace("$IS_FAV$", tntLine.isFavourite ? "" : "btn_img_saved off")
                        .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                        .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                        .replace("$ORIG$", tntLine.Origin)
                        .replace(/\$DEST\$/g, tntLine.Destination)
                        .replace("$AWBDATE$", tntLine.AWBDate)
                        .replace("$MILESTONE_STATUS$", "flight_status received")
                        .replace("$STATUS$", "Booked")
                        .replace("$LAST_PORT$", tntLine.Bookings[tntLine.Bookings.length - 1].ArrPort)
                        .replace("$AIRLINE$", "")
                        .replace("$FLIGHT_NUM$", tntLine.Bookings[tntLine.Bookings.length - 1].FlightNum)
                        .replace("$FLIGHT_DISABLED$", false)
                        .replace("$FLIGHT_TIME$", tntLine.Bookings[tntLine.Bookings.length - 1].MDDate)
                        .replace("$PCS$", tntLine.Bookings[tntLine.Bookings.length - 1].QDPieces)
                        .replace("$WEIGHT$", tntLine.Bookings[tntLine.Bookings.length - 1].QDWeight)
                        .replace("$REMARKS$", "")

                        /*
                            MODIFICATION START : Modified at 20200501
                            Change Date Format from yyyy-MM-dd HH:mm to dd MMM yyyy HH:mm
                        */
                        .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).toLocaleString("en-gb", { month: "short", day: "2-digit", year: "numeric", hour: "2-digit", minute: "2-digit", hour12: false }));
                    //.replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("dd MMM yyyy HH:mm"));
                    /*
                        .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("yyyy-MM-dd HH:mm"));

                        MODIFICATION END : Modified at 20200501
                    */

                    buildingHtml = buildingHtml + lineHtml;


                    buildingHtml_OTHER = buildingHtml_OTHER + lineHtml;
                    cnt_OTHER += 1;

                    cnt_all += 1;
                }
                else if(tntLine.AWBPrefix == "157"){
                    //debugger;
                    var errMsg = "";
                    if (tntLine.ErrorCode.substring(0, 4) == "ERR_") {
                        errMsg = i18next.t("tnt." + tntLine.ErrorCode);
                    } else {
                        errMsg = tntLine.ErrorMessage == "" ? "Error" : tntLine.ErrorMessage;
                    }

                    var lineHtml = line_fail_template
                        .replace("$IS_FAV$", "disabled")
                        .replace("$ORIG$", tntLine.Origin)
                        .replace(/\$DEST\$/g, tntLine.Destination)
                        .replace("$MILESTONE_STATUS$", "noStatus")
                        .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                        .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                        .replace(/\$REASON\$/g, errMsg)
                        .replace(/\$CHECKAGAINTXT\$/g, "Check again");


                    buildingHtml = buildingHtml + lineHtml;

                    buildingHtml_OTHER = buildingHtml_OTHER + lineHtml;
                    cnt_OTHER += 1;

                    cnt_all += 1;
                }
                else {
                    //debugger;
                    var errMsg = "";
                    if (tntLine.ErrorCode.substring(0, 4) == "ERR_") {
                        errMsg = i18next.t("tnt." + tntLine.ErrorCode);
                    } else {
                        errMsg = tntLine.ErrorMessage == "" ? "Error" : tntLine.ErrorMessage;
                    }

                    var lineHtml = line_fail_template
                        .replace("$IS_FAV$", "disabled")
                        .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                        .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                        .replace(/\$REASON\$/g, errMsg)
                        .replace(/\$CHECKAGAINTXT\$/g, "Check again");


                    buildingHtml = buildingHtml + lineHtml;

                    buildingHtml_OTHER = buildingHtml_OTHER + lineHtml;
                    cnt_OTHER += 1;

                    cnt_all += 1;
                }
            }

            $("#tnt_multi_content_all").html(buildingHtml);
            $("#tnt_multi_cnt_all").html(cnt_all);

            $("#tnt_multi_content_DEP").html(buildingHtml_DEP);
            $("#tnt_multi_cnt_DEP").html(cnt_DEP);
            $("#tnt_multi_cnt_DEP").localize();

            if (cnt_DEP == 0) {
                $("#tnt_multi_selector_DEP").addClass("disable").prop("disabled", true);
            }
            else {
                $("#tnt_multi_selector_DEP").removeClass("disable").prop("disabled", false);
            }

            $("#tnt_multi_content_ARR").html(buildingHtml_ARR);
            $("#tnt_multi_cnt_ARR").html(cnt_ARR);
            $("#tnt_multi_cnt_ARR").localize();

            if (cnt_ARR == 0) {
                $("#tnt_multi_selector_ARR").addClass("disable").prop("disabled", true);
            }
            else {
                $("#tnt_multi_selector_ARR").removeClass("disable").prop("disabled", false);
            }

            $("#tnt_multi_content_RCS").html(buildingHtml_RCS);
            $("#tnt_multi_cnt_RCS").html(cnt_RCS);
            $("#tnt_multi_cnt_RCS").localize();

            if (cnt_RCS == 0) {
                $("#tnt_multi_selector_RCS").addClass("disable").prop("disabled", true);
            }
            else {
                $("#tnt_multi_selector_RCS").removeClass("disable").prop("disabled", false);
            }

            $("#tnt_multi_content_DLV").html(buildingHtml_DLV);
            $("#tnt_multi_cnt_DLV").html(cnt_DLV);
            $("#tnt_multi_cnt_DLV").localize();

            if (cnt_DLV == 0) {
                $("#tnt_multi_selector_DLV").addClass("disable").prop("disabled", true);
            }
            else {
                $("#tnt_multi_selector_DLV").removeClass("disable").prop("disabled", false);
            }

            $("#tnt_multi_content_OTHER").html(buildingHtml_OTHER);
            $("#tnt_multi_cnt_OTHER").html(cnt_OTHER);
            $("#tnt_multi_cnt_OTHER").localize();

            if (cnt_OTHER == 0) {
                $("#tnt_multi_selector_OTHER").addClass("disable").prop("disabled", true);
            }
            else {
                $("#tnt_multi_selector_OTHER").removeClass("disable").prop("disabled", false);
            }

            tntToggleDisplay(displayStatus.multi);

            /*
                MODIFICATION START : Modified at 20200501
                Change Date Format from dd/MM HH:mm to dd MMM HH:mm
            */

            $("#tnt_multi_update_time").html(new Date().toLocaleString("en-gb", { month: "short", day: "2-digit", hour: "2-digit", minute: "2-digit", hour12: false }));
            //$("#tnt_multi_update_time").html(new Date().ToString("dd MMM HH:mm"));

            /*
                $("#tnt_multi_update_time").html(new Date().ToString("dd/MM HH:mm"));

                MODIFICATION END : Modified at 20200501
            */


            //$.connection.hub.stop();
        }

        function tntDisplayMultiPartial(tntLine) {
            $("#tnt_back_to_multi_block").removeClass("disabled");
            var line_template = $("#tnt_multi_content_template").html();
            var line_fail_template = $("#tnt_multi_content_fail_template").html();
            var line_grp_fail_template = $("#tnt_multi_content_grp_fail_template").html();

            var grp = "";
            var grpLineHtml = "";

            if (tntLine.Segments != null && tntLine.Segments.length > 0) {
                var flight_disabled = "";
                if (tntLine.Segments[0].FlightNum == "") {
                    flight_disabled = "disabled";
                }

                if (tntLine.Segments.length > 0) {
                    var lineHtml = line_template
                        .replace("$IS_FAV$", tntLine.isFavourite ? "" : "btn_img_saved off")
                        .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                        .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                        .replace("$ORIG$", tntLine.Origin)
                        .replace(/\$DEST\$/g, tntLine.Destination)
                        .replace("$AWBDATE$", tntLine.AWBDate)
                        .replace("$MILESTONE_STATUS$", tntLine.Segments[0].MilestoneStatus)
                        .replace("$STATUS$", tntLine.Segments[0].StatusText)
                        .replace("$LAST_PORT$", tntLine.Segments[0].Port)
                        .replace("$AIRLINE$", tntLine.Segments[0].Airline)
                        .replace("$FLIGHT_NUM$", tntLine.Segments[0].FlightNum)
                        .replace("$FLIGHT_DISABLED$", flight_disabled)
                        .replace("$FLIGHT_TIME$", tntLine.Segments[0].EventDate)
                        .replace("$PCS$", tntLine.Segments[0].QDPieces)
                        .replace("$WEIGHT$", tntLine.Segments[0].QDWeight)
                        .replace("$REMARKS$", tntLine.Segments[0].Remarks)

                        /*
                            MODIFICATION START : Modified at 20200501
                            Change Date Format from yyyy-MM-dd HH:mm to dd MMM yyyy HH:mm
                        */
                        .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).toLocaleString("en-gb", { month: "short", day: "2-digit", year: "numeric", hour: "2-digit", minute: "2-digit", hour12: false }));
                    //.replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("dd MMM yyyy HH:mm"));
                    /*
                        .replace("$IMAGE_TIME$", getAPIDate(tntLine.CreateDT).ToString("yyyy-MM-dd HH:mm"));

                        MODIFICATION END : Modified at 20200501
                    */

                    grpLineHtml = lineHtml;

                    switch (tntLine.Segments[0].Milestone) {
                        case 25:
                            grp = "RCS";
                            break;
                        case 50:
                            grp = "DEP";
                            break;
                        case 75:
                            grp = "ARR";
                            break;
                        case 100:
                            grp = "DLV";
                            break;
                        default:
                            grp = "OTHER";
                            break;

                    }
                }
            }
            else {
                //debugger;
                grp = "OTHER";

                var errMsg = "";
                var milestoneStatus = "rejected";
                var checkAgain_disabled = "disabled";
                if (tntLine.ErrorCode.substring(0, 4) == "ERR_") {
                    errMsg = i18next.t("tnt." + tntLine.ErrorCode);
                } else {
                    var noStatusErrMsg = i18next.t("tnt.NoStatusYet");
                    var isNoStatus = tntLine.ErrorMessage == "";
                    errMsg = isNoStatus ? noStatusErrMsg : tntLine.ErrorMessage;
                    milestoneStatus = isNoStatus ? "nostatus" : "rejected";
                    checkAgain_disabled = isNoStatus ? "" : "disabled";
                }

                var lineHtml = line_fail_template
                    .replace("$IS_FAV$", "disabled")
                    .replace("$MILESTONE_STATUS$", milestoneStatus)
                    .replace(/\$CHECKAGAIN_DISABLED\$/g, checkAgain_disabled)
                    .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                    .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                    .replace(/\$ORIG\$/g, tntLine.Origin)
                    .replace(/\$DEST\$/g, tntLine.Destination)
                    .replace(/\$REASON\$/g, errMsg)
                    .replace(/\$CHECKAGAINTXT\$/g, i18next.t("tnt.CheckAgain"));

                grpLineHtml = line_grp_fail_template
                    .replace("$IS_FAV$", "disabled")
                    .replace("$MILESTONE_STATUS$", milestoneStatus)
                    .replace(/\$CHECKAGAIN_DISABLED\$/g, checkAgain_disabled)
                    .replace(/\$AWB_PREFIX\$/g, tntLine.AWBPrefix)
                    .replace(/\$AWB_SUFFIX\$/g, tntLine.AWBSuffix)
                    .replace(/\$ORIG\$/g, tntLine.Origin)
                    .replace(/\$DEST\$/g, tntLine.Destination)
                    .replace(/\$REASON\$/g, errMsg)
                    .replace(/\$CHECKAGAINTXT\$/g, i18next.t("tnt.CheckAgain"));
            }

            $("#tnt-loading-awb-" + tntLine.AWBPrefix + "-" + tntLine.AWBSuffix).html(lineHtml.replace('<div class="rowwrapper">', "").replace('<div class="trow" style="display: table-row;">', "").replace(/<\/div>([^<\/div>]*)$/, '$1'));

            /*
            MODIFICATION START : Modified at 20210226 - Jimmy
            Change to refresh only the existing row
            */
            if (!recheckMode || grp != "OTHER") {
                var grpHtml = $("#tnt_multi_content_" + grp).html();
                grpHtml += grpLineHtml;

                $("#tnt_multi_content_" + grp).html(grpHtml);
                $("#tnt_multi_cnt_" + grp).html(parseInt($("#tnt_multi_cnt_" + grp).html()) + 1);
                $("#tnt_multi_cnt_" + grp).localize();
                $("#tnt_multi_selector_" + grp).removeClass("disable").prop("disabled", false);

                if (recheckMode) {
                    $("#tnt-grp-fail-awb-" + tntLine.AWBPrefix + "-" + tntLine.AWBSuffix).remove();
                    $("#tnt_multi_cnt_OTHER").html(parseInt($("#tnt_multi_cnt_OTHER").html()) - 1);
                    $("#tnt_multi_cnt_OTHER").localize();
                }
            } else {
                $("#tnt-grp-fail-awb-" + tntLine.AWBPrefix + "-" + tntLine.AWBSuffix).html(lineHtml.replace('<div class="rowwrapper">', "").replace('<div class="trow" style="display: table-row;">', "").replace(/<\/div>([^<\/div>]*)$/, '$1'));
            }

            /*
                MODIFICATION START : Modified at 20200501
                Change Date Format from dd/MM HH:mm to dd MMM HH:mm
            */
            $("#tnt_multi_update_time").html(new Date().toLocaleString("en-gb", { month: "short", day: "2-digit", hour: "2-digit", minute: "2-digit", hour12: false }));
            //$("#tnt_multi_update_time").html(new Date().ToString("dd MMM HH:mm"));
            /*
                $("#tnt_multi_update_time").html(new Date().ToString("dd/MM HH:mm"));

                MODIFICATION END : Modified at 20200501
            */

        }

        function tntToggleDisplay(status) {
            $("#tnt_back_to_search").addClass("disable");
            $("#tnt_back_to_multi_block").addClass("disable");
            $("#tnt_back_to_dashboard").addClass("disable");

            if (status == displayStatus.search) {
                $("#tnt_dashboard").removeClass("disabled");
                $("#tnt_main").addClass("disabled");
                $("#tnt_response").addClass("disabled");
                $("#tnt_response_multi").addClass("disabled");
                $("#error_message").addClass("disabled");
                $("#partial_error_message").addClass("disabled");
                ToggleLoading(false);
            }
            else if (status == displayStatus.loading) {
                $("#tnt_dashboard").removeClass("disabled");
                $("#tnt_main").removeClass("disabled");
                $("#tnt_response").addClass("disabled");
                $("#tnt_response_multi").addClass("disabled");
                $("#error_message").addClass("disabled");
                $("#partial_error_message").addClass("disabled");
                ToggleLoading(true);
            }
            else if (status == displayStatus.single) {
                $("#tnt_dashboard").addClass("disabled");
                $("#tnt_main").addClass("disabled");
                $("#tnt_response").removeClass("disabled");
                $("#tnt_response_multi").addClass("disabled");
                $("#error_message").addClass("disabled");
                $("#partial_error_message").addClass("disabled");
                ToggleLoading(false);
            }
            else if (status == displayStatus.singlePartial) {
                $("#tnt_dashboard").addClass("disabled");
                $("#tnt_main").addClass("disabled");
                $("#tnt_response").removeClass("disabled");
                $("#tnt_response_multi").addClass("disabled");
                $("#error_message").addClass("disabled");
                $("#partial_error_message").removeClass("disabled");
                ToggleLoading(false);
            }
            else if (status == displayStatus.multi) {
                $("#tnt_dashboard").removeClass("disabled");
                $("#tnt_main").removeClass("disabled");
                $("#tnt_response").addClass("disabled");
                $("#tnt_response_multi").removeClass("disabled");
                $("#error_message").addClass("disabled");
                $("#partial_error_message").addClass("disabled");
                ToggleLoading(false);
            }
            else if (status == displayStatus.error) {
                $("#tnt_dashboard").removeClass("disabled");
                $("#tnt_main").removeClass("disabled");
                $("#tnt_response").addClass("disabled");
                $("#tnt_response_multi").addClass("disabled");
                $("#error_message").removeClass("disabled");
                $("#partial_error_message").addClass("disabled");
                ToggleLoading(false);
            }

            if (receivedResponseCnt != expectingResponseCnt && expectingResponseCnt > 1)
                TogglePartialLoading(true);

        }

        function tntOpenSingle(awb) {
            var awbPrefix = awb.substr(0, 3);
            var awbSuffix = awb.substr(4, 8);

            $("#tnt_awbPrefix").val(awbPrefix);
            $("#tnt_awbSuffix").val(awbSuffix);
            tntPerformSearch(false, true);
            // for (var i = 0; i < receivedContent.length; i++) {
            //     if (receivedContent[i].AWBPrefix == awbPrefix &&
            //         receivedContent[i].AWBSuffix == awbSuffix) {

            //         tntDisplaySingle(receivedContent[i], true);

            //         //MODIFICATION START : Added at 20201208 for calling new version of tntDisplaySingle function for revamped TNT result with NGTT information
            //         tntDisplaySingleV2(receivedContent_res[i], true);
            //         //MODIFICATION END : Added at 20201208 for calling new version of tntDisplaySingle function for revamped TNT result with NGTT information

            //         return;
            //     }
            // }
        }

        function tntOpenSingleForce(awb) {
            $("#tnt_back_to_multi_block").addClass("disabled");
            $("#tnt_awbPrefix").val(awb.substr(0, 3));
            $("#tnt_awbSuffix").val(awb.substr(4, 8));
            tntTriggerSearch(false, true);
        }

        function tntMarkFav(awbPrefix, awbSuffix, port, awbDate) {

            if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.connected) {
                $.connection.hub.stop();
                tntMarkFav(awbPrefix, awbSuffix, port, awbDate);
                return;
            }
            debugger;
            if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.disconnected) {
                $.connection.hub.start().done(function () {
                    tntHub.server.toggleFavouriteAWB(awbPrefix, awbSuffix, port, awbDate);
                    tntToggleFavSwitch();
                });
            }
            else {
                tntHub.server.toggleFavouriteAWB(awbPrefix, awbSuffix, port, awbDate);
                tntToggleFavSwitch();
            }
        }

        function tntToggleFavSwitch() {
            if ($("#tnt_fav_switch").hasClass("off")) {
                $("#tnt_fav_switch").removeClass("off");
            }
            else {
                $("#tnt_fav_switch").addClass("off");
            }
        }

        function tntUnmarkFav(awbPrefix, awbSuffix, port, awbDate) {

            if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.connected) {
                $.connection.hub.stop();
                tntUnmarkFav(awbPrefix, awbSuffix, port, awbDate);
                return;
            }

            if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.disconnected) {
                $.connection.hub.start().done(function () {
                    tntHub.server.toggleFavouriteAWB(awbPrefix, awbSuffix, port, awbDate);
                    tntUnmarkFavSwitch(awbPrefix, awbSuffix);
                });
            }
            else {
                tntHub.server.toggleFavouriteAWB(awbPrefix, awbSuffix, port, awbDate);
                tntUnmarkFavSwitch(awbPrefix, awbSuffix);
            }
        }

        function tntUnmarkFavSwitch(awbPrefix, awbSuffix) {
            var awbID = "tnt_$AWB_PREFIX$_$AWB_SUFFIX$";
            awbID = "#" + awbID.replace("$AWB_PREFIX$", awbPrefix).replace("$AWB_SUFFIX$", awbSuffix);

            if ($(awbID).hasClass("btn_img_saved off")) {
                $(awbID).removeClass("btn_img_saved off");
            } else {
                $(awbID).addClass("btn_img_saved off");
            }
        }

        /*
            MODIFICATION START : Modified at 20210226 - Jimmy
            Change to refresh only the existing row
        */

        function tntTriggerRecheck(awb) {
            if(awb == "157-61239012"){
                $.getJSON("json/multiTnt.json", function(json) {
                    receivedContent = json;
                });
                $.getJSON("json/tntLine_157-61239012.json", function(json) {
                    receivedContent[2] = json;
                });
                tntDisplayMulti();
            }
            else{
                clearInterval(timeoutHandle);

                if ($.connection.hub && $.connection.hub.state === $.signalR.connectionState.disconnected) {
                    $.connection.hub.start().done(function () {
                        tntPerformRecheck(awb);
                    });
                }
                else {
                    tntPerformRecheck(awb);
                }
            }
        }

        function tntPerformRecheck(awb) {
            recheckMode = true;

            var awbPrefix = awb.substr(0, 3);
            var awbSuffix = awb.substr(4, 8);

            loading_template = $("#tnt_multi_content_loading_template").html();

            var loading_line_html = loading_template
                .replace('<div class="rowwrapper">', "")
                .replace('<div class="trow" style="display: table-row;" id="tnt-loading-awb-$AWB_PREFIX$-$AWB_SUFFIX$">', "")
                .replace(/<\/div>([^<\/div>]*)$/, '$1')
                .replace("$AWB_PREFIX$", awbPrefix)
                .replace("$AWB_SUFFIX$", awbSuffix);

            $("#tnt-loading-awb-" + awbPrefix + "-" + awbSuffix).html(loading_line_html);

            $("#tnt-grp-fail-awb-" + awbPrefix + "-" + awbSuffix).html(loading_line_html);

            timeoutValue = 30000;

            timeoutHandle = setTimeout(function () {
                tntTimeout();
            }, timeoutValue);

            tntHub.server.trackAndTraceSearch(awbPrefix, awbSuffix, true);
        }

        /*
            MODIFICATION END : Modified at 20210226 - Jimmy
            Change to refresh only the existing row
        */
    </script>

    



<link rel="stylesheet" href="./css/lity.min.css">
<script src="./js/lity.min.js"></script>

<!-- Disable IoT (POC) related code at 20200407 -- START -->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>-->
<!-- Disable IoT (POC) related code at 20200407 -- END -->
<!-- MODIFICATION START : Added at 20200830 for style sheet used by revamped Shipment Status -->
<!-- START -- OpenStreetMap Leaflet.js required -->
<link rel="stylesheet" href="./css/leaflet.css">
<!-- END -- OpenStreetMap Leaflet.js required -->
<!-- START -- Kendo UI required -->
<!-- CDN -->
<!--<link href="https://kendo.cdn.telerik.com/2020.2.617/styles/kendo.common.min.css" rel="stylesheet" />-->
<!--<link href="https://kendo.cdn.telerik.com/2020.2.617/styles/kendo.default.min.css" rel="stylesheet" />-->
<!-- LOCAL -->
<link rel="stylesheet" href="./css/kendo.common.min.css">
<link rel="stylesheet" href="./css/kendo.default.min.css">

<!-- END -- Kendo UI required -->
<!-- START -- Shipment Status Style -->
<link rel="stylesheet" href="./css/shipment-status.css">
<!-- END -- Shipment Status Style -->
<!-- MODIFICATION END : Added at 20200830 for style sheet used by revamped Shipment Status -->

<style>
    @media screen and (max-width: 767px) {
        .open .checkbill.multi .divider_v {
            display: none !important;
        }

        .open .checkbill.multi {
            display: block !important;
        }

        .open .tarea_01_ctr {
            padding-bottom: 20px;
        }

        .tnt_back_to_multi {
            text-align: center;
            width: 100%;
        }
    }

    div#tnt_booking_detail {
        border: none !important;
    }

    .tnt_back_to_block {
        margin-left: 30px;
        margin-top: -30px;
        padding-bottom: 30px;
        display: block;
    }

    .tnt_back_to_multi {
        font-family: roboto;
        font-size: 14px;
        font-weight: bold;
        color: #0067AB !important;
    }

    .update_remark {
        cursor: pointer;
    }

    .flight_num, .dashboard .flight_num {
        padding-right: 20px;
    }

    .flight_date {
        margin-left: 0px !important;
    }

    .flight_remark > a {
        color: rgb(2,139,255) !important;
        outline: 0;
        cursor: default !important;
        text-decoration: none !important;
    }

    .blkl {
        clear: left;
    }

    .blkr {
        clear: right;
    }

    .flight_status.rejected span:first-child {
        color: #000000;
        padding-top: 8px;
    }

    .collapse > .trow {
        display: none !important;
    }

    .collapse.in > .trow {
        display: table-row !important;
    }

    a.btn_not_confirm {
        border-radius: 2px;
        color: #222;
        font-weight: 400;
        display: block;
        height: 25px;
        font-size: 14px;
        margin-left: -70px;
    }
</style>

    <input type="hidden" id="dirty" name="dirty" value="0">


<div id="tnt_dashboard" class="jumbotron">
    <div class="container">
        <h1 data-i18n="tnt.TntTitle">Track Shipment</h1>
        <div class="blk_sty01">
            <div class="checkbill">
                <form class="">
                    <label><span data-i18n="tnt.SearchAWB">Search Air Waybill</span> <img src="./img/question_mark.png" data-lity="" href="#tnt_airline_help"></label>
                    <input id="tnt_awbPrefix" type="text" class="code_01" oninput="this.value=this.value.replace(/[^0-9]/g,'');" maxlength="3">
                    - <div class="code_02_ctr">
                        <input id="tnt_awbSuffix" type="text" class="code_02" oninput="this.value=this.value.replace(/[^0-9]/g,'');" maxlength="8" ="">
                        <div id="tnt_searchSingle" style="cursor: hand; cursor: pointer" class="btn_search"></div>
                    </div>
                </form>
            </div>
            <div>
                <div class="divider_v"></div>
                <div class="blk_m_dis" type="button" id="dropdownMenu7" data-toggle="dropdown"><center><a href="/trackshipment#" class="link_bu_r" data-i18n="tnt.SearchMultiAWB">Multiple Air Waybills</a></center></div>
                <div class="checkbill multi" aria-labelledby="dropdownMenu7">
                    <form class="">
                        <label data-i18n="tnt.SearchMultiAWB">Multiple Air Waybills</label>
                        <div class="tarea_01_ctr">
                            <textarea data-i18n="[placeholder]tnt.multi_input" id="tnt_multi_input" class="tarea_01" placeholder="( Up to 10 AWB ) e.g. 001-11111111; 002-22222222;"></textarea>
							<!--<textarea id="tnt_multi_input" class="tarea_01" placeholder="( Up to 10 AWB ) e.g. 001-11111111; 002-22222222;"></textarea>-->
                            <div id="tnt_searchMulti" style="cursor: hand; cursor: pointer" class="btn_search"></div>
                        </div>
                    </form><div class="divider_v"></div>
                    <div class="blk_m_dis"><center><a href="/trackshipment#" class="link_bu_r" data-i18n="tnt.SearchAWB">Search Air Waybill</a></center></div>
                </div>
            </div>
            <div class="blkc"></div>
        </div>
    </div>
</div>

<div style="background:#fff; padding: 25px" class="lity-hide" id="tnt_airline_help">
    The following airlines are supported: <br>
    3S , 6T , 7T , AC , AF , AT , AZ , BA<br>BR , CI , CV , CX , D0 , D5 , DL , ES<br>ET , FI , JL , KA , KE , KK , KL , KZ<br>L3 , LD , LH , LO , LX , MK , NH , NW<br>PO , QF , QR , QY , RU , SK , SQ , SV<br>TG , UA , UO , V4
</div>

<div id="tnt_main" class="disabled">
    <div id="error_message" class="wbg container disabled"></div>
    <div id="tnt_response_multi" class="wbg disabled">
        <div class="container wbg">
            <h3 data-i18n="tnt.TrackShipmentResult">Track Shipment Result</h3>
            <div class="blkr disabled">
                <select class="select_or"><option data-i18n="tnt.AllAirlines">All Airlines</option><option>CX </option><option>LC</option><option>UX</option></select>
                <div id="dd" class="select_or" tabindex="1" data-i18n="tnt.AllAirlines">All AirlinesCXLCUX</div>
            </div>
            <div class="blkc"></div>
            <div class="cd-tabs is-ended">
                <nav>
                    <a href="./trackshipment.html#" id="tnt_multi_update_time" class="update_remark" onclick="tntTriggerSearch(true, false)">10 Nov 08:35</a>
                    <ul class="cd-tabs-navigation">
                        <li><a data-content="all" class="selected tnt_multi_content_selector" href="/trackshipment#0">All (<span id="tnt_multi_cnt_all">0</span>)</a></li>
                        <li><a data-content="departed" href="/trackshipment#0" class="tnt_multi_content_selector" id="tnt_multi_selector_DEP"><span data-i18n="tnt.DEP">Departed</span> (<span id="tnt_multi_cnt_DEP">0</span>)</a></li>
                        <li><a data-content="arrived" href="/trackshipment#0" class="tnt_multi_content_selector" id="tnt_multi_selector_ARR"><span data-i18n="tnt.ARR">Arrived</span> (<span id="tnt_multi_cnt_ARR">0</span>)</a></li>
                        <li><a data-content="received" href="/trackshipment#0" class="tnt_multi_content_selector" id="tnt_multi_selector_RCS"><span data-i18n="tnt.RCS">Airline Received</span> (<span id="tnt_multi_cnt_RCS">0</span>)</a></li>
                        <li><a data-content="delivered" href="/trackshipment#0" class="tnt_multi_content_selector" id="tnt_multi_selector_DLV"><span data-i18n="tnt.DLV">Delivered</span> (<span id="tnt_multi_cnt_DLV">0</span>)</a></li>
                        <li><a data-content="other" href="/trackshipment#0" class="tnt_multi_content_selector" id="tnt_multi_selector_OTHER"><span data-i18n="tnt.Other">Others</span> (<span id="tnt_multi_cnt_OTHER">0</span>)</a></li>
                    </ul> <!-- cd-tabs-navigation -->
                </nav>

                <ul class="cd-tabs-content" style="">
                    <li data-content="all" class="selected">
                        <div class="ts_table" id="tnt_multi_content_all"></div>
                    </li>

                    <li data-content="departed" class="">
                        <div class="ts_table" id="tnt_multi_content_DEP"></div>
                    </li>

                    <li data-content="arrived" class="">
                        <div class="ts_table" id="tnt_multi_content_ARR"></div>
                    </li>

                    <li data-content="received" class="">
                        <div class="ts_table" id="tnt_multi_content_RCS"></div>
                    </li>

                    <li data-content="delivered">
                        <div class="ts_table" id="tnt_multi_content_DLV"></div>
                    </li>

                    <li data-content="other">
                        <div class="ts_table" id="tnt_multi_content_OTHER"></div>
                    </li>


                </ul> <!-- cd-tabs-content -->
            </div> <!-- cd-tabs -->
        </div>
    </div>
</div>

<div id="tnt_response" class="disabled">
    <!-- MODIFICATION START : Added at 20200921 - temporarily hide original Shipment Status Result -->
    <div id="hide_original_shipment_status_result_jumbotron" style="display : none">
        <!-- div added by Ivan Yuen at 20200921 for hiding original Shipment Status Result Jumbotron -->
        <div class="jumbotron">
            <div class="container">
                <h1>Track_Shipment</h1>
                <div id="tnt_response_summary">
    <div class="blk_sty02">
        <div class="b_flight_num">
            160-1003 5395
        </div>
        <div class="cnt">
            <div class="b_flight_location">
                HKG<img src="./img/icon_gy_flight.png">NRT
            </div>
            <div class="b_flight_piece">
                1pcs
            </div>
            <div class="b_flight_weight">
                100kg
            </div>
        </div>
        <div class="blkc"></div>
        
    <div class="blkl ">
        <div class="gn_table w_result">
            <div class="trow">
                <div class="tcell col1">
                    <div class="label_gn">
                        <div class="lbl_arrived">Arrived</div>
                        <div class="lbl_location">NRT</div>
                    </div>
                </div>
                <div class="tcell cols">
                    <div class="flight_num">
                        <!-- <img src="./images/undefined.png" class="disabled"> -->
                        <span style="font-weight: bold">CX006</span>
                    </div>
                    <div class="flight_date">
                        15 Jan, 06:00
                    </div>
                </div>
                <div class="tcell colb">
                    <div class="flight_pieces">1pcs</div>
                    <div class="flight_weight">100kg</div>
                </div>
                <div class="tcell cols">
                    <div class="cnt_pie">
                        <div class="work75 pie">
                            <div class="slice-right"></div>
                            <div class="slice-left"></div>
                            <div class="percent">
                                <div class="number">75%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <div class="blkc"></div>
        <div class="b_action_tool">
            <div class="divider_gy"></div>
            <a href="/trackshipment#" class="btn_img_share disabled"></a>
            <a href="/trackshipment#" class="btn_img_email disabled"></a>
            <a href="/trackshipment#" id="tnt_fav_switch" class="btn_img_saved off" onclick="tntMarkFav('160','10035395', 'NRT', '15/01')"></a>
        </div>
        <div class="msg_remarks" style="padding-top: 12px;"><span>Image Time:</span>&nbsp;04 Sept 2021, 15:56</div>
    </div>
</div>
                <!--
                <div id="tnt_back_to_multi_block" class="tnt_back_to_block disabled"><a href="#" onclick="tntToggleDisplay(displayStatus.multi);" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchResult">&#8249; Back to search results</a></div>
                <div id="tnt_back_to_search" class="tnt_back_to_block disabled"><a href="#" onclick="tntToggleDisplay(displayStatus.search);" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchPage">&#8249; Back to search</a></div>
                <div id="tnt_back_to_dashboard" class="tnt_back_to_block disabled"><a href="#" onclick="window.history.back();" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchResult">&#8249; Back to search results</a></div>
                -->
            </div>
        </div>
    </div>
    <!-- MODIFICATION END : Added at 20200921 - temporarily hide original Shipment Status Result -->


    <div class="wbg">
        <div id="partial_error_message" class="container disabled" style="padding-top: 40px"></div>
        <div class="container wbg">

            <!-- MODIFICATION START : Added at 20200830 for layout used by revamped Shipment Status -->

            <div id="tnt_result" style="width:960px;position: relative;">
                <div style="position:absolute;top:80px;right:0px;height:5px;">
                    <div id="tnt_back_to_multi_block" class="tnt_back_to_block disabled disable"><a href="./trackshipment.html#" onclick="tntToggleDisplay(displayStatus.multi);" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchResult">Back to search results</a></div>
                    <div id="tnt_back_to_search" class="tnt_back_to_block disable"><a href="./trackshipment.html#" onclick="tntToggleDisplay(displayStatus.search);" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchPage">Back to search</a></div>
                    <div id="tnt_back_to_dashboard" class="tnt_back_to_block disabled disable"><a href="./trackshipment.html#" onclick="window.history.back();" class="tnt_back_to_multi" data-i18n="tnt.BackToSearchResult">Back to search results</a></div>
                </div>
                <div id="TNT_Result-Content">
                <div style="width:100%;height:165px;display:table;">
                    <div style="display:table-row">
                        <div style="display:table-cell;width:65%;vertical-align:top">
                            <div class="shipment-status_title">Track Your Shipment</div>
                            <div style="width : 100%;margin-bottom:30px">
                                <span class="shipment-status_awb">Master Air Waybill <span id="FreightStatus-AWBPrefix"></span>-<span id="FreightStatus-AWBSuffix"></span></span>
                                <img class="get_raw" src="./img/check_1r.png" style="display:none; cursor : pointer;width: 32px; height: 32px; margin-left: 10px;" onclick="showOneRecordJson('raw');">
                                <img class="get_awb_1r" src="./img/icon_oneRecord.jpg" style="cursor : pointer;width: 32px; height: 32px; margin-left: 10px;" onclick="showOneRecordJson('awb_1r');">
                            </div>
                        </div>
                        <div style="display:table-cell;width:35%;vertical-align:bottom;text-align:right;padding-top:10px;">
                            <div><img id="list_view" src="./img/list_view.png" style="cursor: pointer;" onclick="showFullMap()"></div>
                            <div><img id="map_view" src="./img/map_view.png" style="cursor:pointer;display:none;" onclick="BacktoShipmentStatus()"></div>
                            <div><img id="BackToShipmentStatusTick" src="./img/tick.png" style="cursor:pointer;display:none;" onclick="BackToShipmentStatus()"></div>
                            <div class="shipment-status_normal-text" style="float:right;vertical-align:bottom;padding-top:5px;padding-bottom:10px">Image Time : <span id="FreightStatus-CreateDT">04 Sep 2021 15:56</span></div>
                        </div>
                    </div>
                </div>
                <div style="width:100%;display:table">
                    <div style="display:table-row">
                        <div style="display:table-cell;width:65%;">
                            <div id="ShipmentStatus_Left">
                                <div class="shipment-status_tab">
                                    <button type="button" class="tablinks active" onclick="switchTab(this, 'LatestStatus')">Latest Status</button>
                                    <button type="button" class="tablinks" onclick="switchTab(this, 'ShipmentHistory')">Shipment History</button>
                                    <button type="button" class="tabklinks" style="background-color:#fff !important; padding: 0px; float: right; margin-right:20px;" onclick="switchTab(this, 'Notification')"><img src="./img/notification.png" style="width:48px; height:48px;"></button>
                                </div>
                                <div id="LatestStatus" class="shipment-status_tabcontent" style="display : block">
                                    <div id="Latest_Status_Table">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:40px;">Port</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:200px;">Status</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:50px;text-align:right">Pieces</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:70px;text-align:right">Weight</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:120px;">Flight</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:80px;">Milestone</div>
                                        </div>
                                        <div id="Latest_Status-Content">
            <div style="display:table-row;" v-for="(LatestFreightStatusDetail, LatestStatusDetailIndex) in getLatestShipmentStatusDetails()">
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:40px;">NRT</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:200px;"><img src="./img/RCF-20x20.png" alt="Image"> Freight accepted at airport</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:50px;text-align:right">1</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:70px;text-align:right">100kg</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:120px;">CX006 02 Mar</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:80px;">RCF</div>
            </div>
        </div>
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:40px;"></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:200px;text-align:right">Total : </div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:50px;text-align:right"><span id="LatestStatus-TotalPieces">1</span></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:70px;text-align:right"><span id="LatestStatus_TotalWeight">100</span>kg</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:120px;"></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:80px"></div>
                                        </div>
                                    </div>
                                    <div id="Latest_Status_Table-No-Result" style="display: none;">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:center">No Latest Status Record</div>
                                        </div>
                                    </div>
                                    <div id="Latest_Status_Table-Error-OSILine" style="display: none;">
                                        <div style="display:table-row">
                                            <div id="Latest_Status-OSILine-Content" class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:left"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ShipmentHistory" class="shipment-status_tabcontent" style="width : 100%">
                                    <div id="Shipment_History_Table">
                                        <div style="width : 95%;text-align:right;padding-top:10px;padding-bottom : 10px;"><img id="Shipment_History_Sort_Direction_Image" src="./img/sort-asc.png" style="cursor:pointer" onclick="toggleSortShipmentHistory()" v-show="DisplayableShipmentStatusDetails.length &gt; 0" alt="Image"></div>
                                        <div id="ShipmentHistory-Content">
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/FOH.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Freight on hand</span><span class="shipment-status_status_detail_datetime" style="float:right">15 Jan 2021 18:23</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: HKG</span><span class="shipment-status_status_detail">Flight: CX006 15 Jan</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/RCS.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Airline Received</span><span class="shipment-status_status_detail_datetime" style="float:right">15 Jan 2021 18:23</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: HKG</span><span class="shipment-status_status_detail">Flight: CX006 15 Jan</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/MAN.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Manifest received</span><span class="shipment-status_status_detail_datetime" style="float:right">15 Jan 2021 18:24</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: HKG</span><span class="shipment-status_status_detail">Flight: CX006 15 Jan</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/DEP.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Departed</span><span class="shipment-status_status_detail_datetime" style="float:right">15 Jan 2021 00:55</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: HKG</span><span class="shipment-status_status_detail">Flight: CX006 15 Jan</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/RCF.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Freight accepted at airport</span><span class="shipment-status_status_detail_datetime" style="float:right">02 Mar 2021 17:11</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: NRT</span><span class="shipment-status_status_detail">Flight: CX006 02 Mar</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/AWD.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Document delivered to forwarder</span><span class="shipment-status_status_detail_datetime" style="float:right">02 Mar 2021 17:11</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: NRT</span><span class="shipment-status_status_detail">Flight: CX006 02 Mar</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="./img/ARR.png" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">Arrived</span><span class="shipment-status_status_detail_datetime" style="float:right">15 Jan 2021 06:00</span>
                        <br>
                        <span class="shipment-status_status_detail">Port: NRT</span><span class="shipment-status_status_detail">Flight: CX006 15 Jan</span><span class="shipment-status_status_detail">1pc</span><span class="shipment-status_status_detail">100kg</span>
                        <div class="shipment-status_status_detail"></div>
                    </div>
                </div>
            </div>
        </div>
                                    </div>
                                    <div id="Shipment_History_Table-No-Result" style="display: none;">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:center">No Shipment History Record</div>
                                        </div>
                                    </div>
                                    <div id="Shipment_History_Table-Error-OSILine" style="display: none;">
                                        <div style="display:table-row">
                                            <div id="ShipmentHistory-OSILine-Content" class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:left"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="sensor_reading_Top" style="width: 100%;padding:10px;display:none">
                                <div class="shipment-status_normal-text"><!--Relative humidity and temperature are measured by the thermometer installed in the thermal dolly.--></div>
                                <div class="shipment-status_device_button">
                                    <div id="SensorReading-DeviceButton-Content">
            <button type="button" id="Device0" class="tablinks active" onclick="showDeviceSensorReadings(0, strCurrentSensorReadingType)">Device 2000000097</button>
        
            <button type="button" id="Device1" class="tablinks" onclick="showDeviceSensorReadings(1, strCurrentSensorReadingType)">Device 2000000098</button>
        </div>
                                </div>
                                <div>
                                    <div id="Temperature-Scale" style="width : 580px;text-align:right"><span class="k-switch k-widget k-switch-off" role="switch" tabindex="0" aria-checked="false"><input id="Temperature-Scale-Button" data-role="switch" type="checkbox"><span class="k-switch-container"><span class="k-switch-label-on">F</span><span class="k-switch-label-off">C</span><span class="k-switch-handle"></span></span></span></div>
                                    <span style="display :inline-block;width:100%"><div id="chart" style="width: 580px; height: 450px;"></div></span>
                                </div>
                                <div class="shipment-status_sensor_reading_button" style="width: 100%;padding:5px;">
                                    <button id="button_plot_temperature" type="button" class="tablinks" onclick="plotTemperature()">
                                        <div id="button_sparklines_temp" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:220px;padding-left : 5px;vertical-align:middle">Transportation Temperature</span><img src="./img/temperature-25x25.png" style="vertical-align:middle"><span id="button_temperature" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align : middle;"></span>
                                        <div id="button_temperature_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_humidity" type="button" class="tablinks" onclick="plotHumidity()" style="display: none;">
                                        <div id="button_sparklines_humid" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:170px;padding-left : 5px;vertical-align:middle">Relative humidity</span><img src="./img/humidity-25x25.png" style="vertical-align:middle"><span id="button_humidity" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_humidity_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_light" type="button" class="tablinks" onclick="plotLight()" style="display: none;">
                                        <div id="button_sparklines_light" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:160px;padding-left : 5px;vertical-align:middle">Light</span><img src="./img/light-25x25.png" style="vertical-align:middle"><span id="button_light" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_light_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_shock" type="button" class="tablinks" onclick="plotShock()" style="display: none;">
                                        <div id="button_sparklines_shock" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:170px;padding-left : 5px;vertical-align:middle">Shock</span><img src="./img/shock-25x25.png" style="vertical-align:middle"><span id="button_shock" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_shock_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                </div>
                            </div>
                            <div id="temperature_and_voltage" style="width: 100%;padding:10px;display:none;">
                                <div style="display:table-row">
                                    <div style="width:100%">
                                        <div id="Temperature_and_Voltage-Content"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="display:table-cell;width:35%;vertical-align:top;">
                            <div id="ShipmentStatus_Right">
                                <div style="width : 100%;padding:5px;box-shadow : 0 4px 4px 6px rgba(0, 0, 0, 0.2);border-radius: 10px;">
                                    <div style="width : 70x;margin: auto;text-align:center">
                                        <span id="FreightStatus-Origin" class="shipment-status_airport" style="display :inline-block;width:100px;text-align:center;">HKG</span><span style="display :inline-block;width:100px;text-align:center;vertical-align:middle"><img src="./img/plane.png"></span><span id="FreightStatus-Destination" class="shipment-status_airport" style="display :inline-block;width:100px;text-align:center;">NRT</span>
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center;">
                                        <span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">Pieces</span><span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">Weight</span><!--<span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">Volume</span>-->
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center">
                                        <span style="display :inline-block;width:100px;text-align:center;"><img src="./img/piece.jpg"></span><span style="display :inline-block;width:100px;text-align:center;"><img src="./img/weight.jpg"></span><!--<span style="display :inline-block;width:100px;text-align:center;"><img src="/Portals/_default/Skins/EzyCargo/img/shipment-status/volume.jpg"></span>-->
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center">
                                        <span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;"><span id="FreightStatus-QDPieces">1</span> pc</span><span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;"><span id="FreightStatus-QDWeight">100</span> kg</span><!--<span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;">??m<sup>3</sup></span>-->
                                    </div>
                                    <br>
                                    <div id="Temperature_And_Voltage_Link" class="shipment-status_subtitle" style="cursor: pointer; padding: 5px; display: none;" onclick="showTemperatureAndVoltage()" v-if="FreightStatus.FreightStatusDevices.length &gt; 0 &amp;&amp; FreightStatus.FreightStatusDevices[0].FreightStatusDeviceHistoryLogs.length &gt; 0">Temperature &amp; Voltage Information</div>
                                    <div id="Booking_Status_Link" class="shipment-status_subtitle" style="cursor : pointer;padding:5px;" onclick="toggleBookingStatus()">Booking Status <img id="Booking_Status_Image" src="./img/arrow-right.png"></div>
                                    <div id="Booking_Status_Table" style="padding:5px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);width:100%;display:none;">

                                        <div style="display:table-row">
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:80px"></div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">Flight</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">Depart On</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">Arrival On</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:40px;text-align:right">Pieces</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:40px;text-align:right">Weight</div>
                                            <!--<div class="shipment-status_booking_table_header" style="display:table-cell;">Status</div>-->
                                        </div>
                                        <div id="Booking-Content">
            <div style="display:table-row;">
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:80px;">HKG&nbsp;<img src="./img/plane-20x20.png">&nbsp;NRT</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">CX006<br>15 Jan</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">15 Jan 00:55</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">15 Jan 06:00</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:40px;text-align:right">1</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:40px;text-align:right">100kg</div>

            </div>
            <div class="shipment-status_booking_table_cell">Status : Space Confirm Against Allotment</div>
        </div>

                                    </div>
                                    <div id="sensor_reading_Summary" style="">
                                        <!-- Temperature -->
                                        <div id="shipment-status_sensor_reading_temperature_group">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowTemperature()">Smart Track - Transportation Temperature</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="./img/temperature.png"></span><span id="temperature" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle">5.3C (41.54F)</span>
                                            </div>
                                            <div id="sparklines_temp" style="width: 90%; height: 15px; position: relative;" data-role="sparkline" class=" k-sparkline"><span data-role="surface" style="width: 293px; height: 15px;"><svg style="width: 100%; height: 100%; overflow: hidden; left: -0.5px; top: 0px;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><defs></defs><g><path d="M0 0 L 293 0 293 15 0 15Z" stroke="none" fill="none"></path><path d="M2 3 L 290 3 290 13 2 13Z" stroke="none" fill="#fff" fill-opacity="0"></path><g><g></g><g></g><g><path style="display:none;" d="M2 3 L 2 13" stroke="#8e8e8e" stroke-width="2" fill="none"></path></g><g></g><g><g><path d="M2.024 8.125 C 2.106 8.125 2.188 8.125 2.269 8.125 2.351 8.125 2.433 7.833 2.514 7.75 2.596 7.667 2.678 7.625 2.759 7.625 2.841 7.625 2.922 8.5 3.004 8.5 3.085 8.5 3.167 8.125 3.249 8.125 3.33 8.125 3.412 8.125 3.494 8.125 3.575 8.125 3.657 7.75 3.738 7.75 3.82 7.75 3.902 7.833 3.983 7.875 4.065 7.917 4.147 8 4.228 8 4.31 8 4.392 7.75 4.473 7.75 4.555 7.75 4.636 8.229 4.718 8.375 4.799 8.521 4.881 8.459 4.963 8.625 5.044 8.792 5.126 9.375 5.208 9.375 5.289 9.375 5.371 9.25 5.452 9.25 5.534 9.25 5.616 9.25 5.697 9.25 5.779 9.25 5.861 9.5 5.942 9.5 6.024 9.5 6.106 8.896 6.187 8.625 6.269 8.354 6.35 7.875 6.432 7.875 6.513 7.875 6.595 8.167 6.677 8.25 6.758 8.333 6.84 8.375 6.922 8.375 7.003 8.375 7.085 7.666 7.166 7.5 7.228 7.375 7.33 7.375 7.411 7.375 7.493 7.375 7.575 7.542 7.656 7.625 7.738 7.708 7.82 7.792 7.901 7.875 7.983 7.958 8.064 8.125 8.146 8.125 8.227 8.125 8.309 7.375 8.391 7.375 8.472 7.375 8.554 7.75 8.636 7.75 8.717 7.75 8.799 7.5 8.88 7.5 8.962 7.5 9.044 7.625 9.125 7.625 9.207 7.625 9.289 7.625 9.37 7.625 9.452 7.625 9.533 7.75 9.615 7.75 9.697 7.75 9.778 7.375 9.86 7.375 9.941 7.375 10.023 7.75 10.105 7.75 10.186 7.75 10.268 7.312 10.35 7.125 10.431 6.938 10.513 6.75 10.594 6.625 10.676 6.5 10.758 6.375 10.839 6.375 10.921 6.375 11.003 6.875 11.084 6.875 11.166 6.875 11.247 6.729 11.329 6.625 11.411 6.521 11.492 6.396 11.574 6.25 11.655 6.104 11.737 5.875 11.819 5.75 11.9 5.625 11.982 5.5 12.064 5.5 12.145 5.5 12.227 5.75 12.308 5.75 12.39 5.75 12.472 5.708 12.553 5.625 12.635 5.542 12.717 5.25 12.798 5.25 12.88 5.25 12.961 5.625 13.043 5.625 13.125 5.625 13.206 5.104 13.288 4.875 13.369 4.646 13.451 4.25 13.533 4.25 13.614 4.25 13.696 4.917 13.778 5.125 13.859 5.333 13.941 5.354 14.022 5.5 14.104 5.646 14.186 5.931 14.267 6 14.675 6.347 15.084 6.689 15.492 6.75 16.331 6.875 18.595 6.875 20.144 6.875 22.998 6.875 27.592 6.875 28.714 6.75 30.345 6.568 31.98 5.573 33.611 5.375 37.117 4.949 40.634 4.875 44.14 4.875 49.358 4.875 54.592 5.875 59.811 5.875 62.991 5.875 66.18 5.79 69.36 5.5 70.746 5.374 72.136 4.625 73.523 4.625 75.806 4.625 78.095 4.903 80.379 5.375 81.52 5.611 82.665 6.4 83.806 6.75 85.111 7.15 86.42 7.625 87.724 7.625 94.573 7.625 101.443 5.625 108.292 5.625 109.271 5.625 110.252 7.375 111.23 7.375 111.475 7.375 111.72 6.928 111.965 6.75 112.291 6.512 112.618 6.384 112.944 6.125 113.352 5.801 113.761 5 114.169 5 114.413 5 114.659 6.375 114.903 6.375 115.311 6.375 115.72 5.502 116.128 5.375 117.595 4.919 119.067 4.625 120.535 4.625 121.676 4.625 122.821 5.25 123.963 5.25 125.594 5.25 127.229 5.177 128.86 5 129.92 4.885 130.983 4.375 132.043 4.375 132.288 4.375 132.533 4.425 132.778 4.5 132.941 4.55 133.104 4.649 133.267 4.75 134.246 5.357 135.227 6.625 136.206 6.625 136.369 6.625 136.532 6 136.695 6 137.755 6 138.819 6.375 139.879 6.375 139.96 6.375 140.042 6 140.123 6 143.14 6 146.166 8.25 149.183 8.25 153.994 8.25 158.819 7.375 163.63 7.375 164.608 7.375 165.589 7.736 166.568 7.875 167.057 7.944 167.548 8 168.037 8 168.771 8 169.71 8 170.241 7.875 170.567 7.798 170.894 7.516 171.22 7.25 171.302 7.183 171.384 6.875 171.465 6.875 172.607 6.875 173.752 7.75 174.893 7.75 175.382 7.75 175.885 7.75 176.362 7.625 178.89 6.962 181.425 5.375 183.953 5.375 185.583 5.375 187.219 5.652 188.85 5.75 189.991 5.819 191.543 5.75 192.278 5.875 192.359 5.889 192.441 6.271 192.523 6.375 192.604 6.479 192.686 6.49 192.768 6.5 195.458 6.823 198.157 7.375 200.848 7.375 204.191 7.375 207.544 7.375 210.887 7.375 211.295 7.375 211.704 7.422 212.111 7.5 212.356 7.547 212.601 7.75 212.846 7.75 212.927 7.75 213.009 7.5 213.091 7.5 215.781 7.5 218.48 7.75 221.171 7.75 222.475 7.75 223.784 6.5 225.089 6.5 226.067 6.5 227.048 6.625 228.027 6.625 228.761 6.625 229.497 5.75 230.231 5.75 233.247 5.75 236.273 6.625 239.29 6.625 243.123 6.625 246.966 6.625 250.799 6.625 251.858 6.625 252.922 7.172 253.982 7.375 255.531 7.672 257.085 8.125 258.634 8.125 260.102 8.125 261.574 7.625 263.041 7.625 263.775 7.625 264.511 7.875 265.245 8.25 265.327 8.292 265.408 8.875 265.49 8.875 266.958 8.875 268.43 8.125 269.897 8.125 271.61 8.125 273.327 8.125 275.039 8.125 275.284 8.125 275.529 8.25 275.774 8.25 276.915 8.25 278.06 8.216 279.202 8.125 280.67 8.008 282.142 7.822 283.609 7.625 283.691 7.614 283.773 7.5 283.854 7.5 283.936 7.5 284.017 8.125 284.099 8.125 284.18 8.125 284.262 7.375 284.344 7.375 284.425 7.375 284.507 7.375 284.589 7.375 284.67 7.375 284.752 7.125 284.834 7.125 284.915 7.125 284.997 7.146 285.078 7.25 285.16 7.354 285.242 7.604 285.323 7.75 285.405 7.896 285.487 8.125 285.568 8.125 285.65 8.125 285.731 7.75 285.813 7.75 285.894 7.75 285.976 7.75 286.058 7.75 286.139 7.75 286.221 7.625 286.303 7.625 286.384 7.625 286.466 8 286.548 8 286.629 8 286.711 7.875 286.792 7.875 286.874 7.875 286.956 7.875 287.037 7.875 287.119 7.875 287.201 8.125 287.282 8.125 287.364 8.125 287.445 7.875 287.527 7.875 287.608 7.875 287.69 7.875 287.772 7.875 287.853 7.875 287.935 7.375 288.017 7.375 288.098 7.375 288.18 7.625 288.262 7.625 288.343 7.625 288.425 7.354 288.506 7.25 288.588 7.146 288.67 7 288.751 7 288.833 7 288.915 7 288.996 7 289.078 7 289.159 6.812 289.241 6.75 289.322 6.688 289.404 6.625 289.486 6.625 289.567 6.625 289.649 7.334 289.731 7.5 289.792 7.625 289.894 7.583 289.976 7.625" stroke="#65A0D1" stroke-width="2" fill="none"></path></g></g></g><g></g></g></svg></span></div>
                                            <br>
                                            <div id="temperature_last_update_time" class="shipment-status_last_update_time">Last Update Time (UTC): 2020-11-30 06:22</div>
                                        </div>
                                        <!-- Humidity -->
                                        <div id="shipment-status_sensor_reading_humidity_group" style="display: none;">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowHumidity()">Smart Track - Relative humidity</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="./img/humidity.png"></span><span id="humidity" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_humid" style="width: 90%; height: 15px;"></div>
                                            <br>
                                            <div id="humidity_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <!-- Light -->
                                        <div id="shipment-status_sensor_reading_light_group" style="display: none;">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowLight()">Smart Track - Light</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="./img/light.png"></span><span id="light" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_light" style="width: 90%; height: 15px;"></div>
                                            <br>
                                            <div id="light_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <!-- Shock -->
                                        <div id="shipment-status_sensor_reading_shock_group" style="display: none;">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowShock()">Smart Track - Shock</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="./img/shock.png"></span><span id="shock" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_shock" style="width: 90%; height: 15px;"></div>
                                            <br>
                                            <div id="shock_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <div id="osm_map_mini" style="width: 320px; height: 200px; padding: 10px; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 4px 6px; position: relative;" class="leaflet-container leaflet-fade-anim leaflet-grab leaflet-touch-drag" tabindex="0">
                                            <div class="leaflet-top leaflet-right" style="z-index : 1000;padding : 5px;">
                                                <img id="map_expand" src="./img/expand.png" style="cursor : pointer; pointer-events: auto;" onclick="showFullMap()">
                                                <!-- <img id="map_replay" src="./img/outline_replay_black_18dp.png" style="cursor : pointer; pointer-events: auto;" onclick="initialize_device_sensor_reading()"> -->
                                            </div>
                                        <div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(2px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(0px, 0px, 0px) scale(1);"><img crossorigin="" alt="" role="presentation" src="./img/1.png" class="leaflet-tile leaflet-tile-loaded" style="width: 512px; height: 512px; transform: translate3d(-490px, -282px, 0px); opacity: 1;"><img crossorigin="" alt="" role="presentation" src="./img/1(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 512px; height: 512px; transform: translate3d(22px, -282px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-overlay-pane"><svg pointer-events="none" class="leaflet-zoom-animated" width="384" height="240" viewBox="-34 -20 384 240" style="transform: translate3d(-34px, -20px, 0px);"><g><path class="leaflet-interactive" stroke="#FF5C59" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M160 100L160 100"></path><path class="leaflet-interactive" stroke="#FF5C59" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M158 100L158 100"></path></g></svg></div><div class="leaflet-pane leaflet-marker-pane"><img src="./img/location-red.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="transform: translate3d(160px, 100px, 0px); z-index: 100;"><img src="./img/icon-plane-red.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -15px; margin-top: -15px; width: 30px; height: 30px; transform: translate3d(158px, 100px, 0px); z-index: 100;"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(1672px, 894px, 0px) scale(4);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="/trackshipment#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a class="leaflet-control-zoom-out" href="/trackshipment#" title="Zoom out" role="button" aria-label="Zoom out"></a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com/" title="A JS library for interactive maps">Leaflet</a> | <a href="https://www.maptiler.com/copyright/" target="_blank"> MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank"> OpenStreetMap contributors</a></div></div></div></div>
                                    </div>
                                    <div style="display:table">
                                        <div style="display:table-row;">
                                            <div class="shipment-status_normal-text" style="display:table-cell;vertical-align:middle;line-height:50px;padding-right:5px;padding-top:5px;">
                                                Powered by
                                            </div>
                                            <div style="display:table-cell;vertical-align:middle;line-height:50px;padding-top:5px;">
                                                <img src="./img/gls_logo.png">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="width:100%">
                    <div id="osm_map" style="width: 100%; height: 500px;padding:10px;display:none"></div>
                </div>
                <div style="width:100%">
                    <div id="sensor_reading_Bottom" style="width: 100%;padding:10px;display:none">
                        <div id="sensor_reading_figures_table" style="width: 100%;padding:10px;">
                            <div id="grid"></div>
                        </div>
                    </div>
                </div>
        

        </div>
            </div>

            <!-- START - x-templates -->

            <script id="tnt_result_template" type="text/x-template">
                <div style="width:100%;height:165px;display:table;">
                    <div style="display:table-row">
                        <div style="display:table-cell;width:65%;vertical-align:top">
                            <div class="shipment-status_title">{{LocalizedString-ShipmentTracking}}</div>
                            <div style="width : 100%;margin-bottom:30px">
                                <span class="shipment-status_awb">{{LocalizedString-MasterAirWaybill}} <span id="FreightStatus-AWBPrefix"></span>-<span id="FreightStatus-AWBSuffix"></span></span>
                                <img class="get_raw" src="./img/check_1r.png" style="display:none; cursor : pointer;width: 32px; height: 32px; margin-left: 10px;" onclick="showOneRecordJson('raw');">
                                <img class="get_awb_1r" src="./img/icon_oneRecord.jpg" style="cursor : pointer;width: 32px; height: 32px; margin-left: 10px;" onclick="showOneRecordJson('awb_1r');">
                            </div>
                        </div>
                        <div style="display:table-cell;width:35%;vertical-align:bottom;text-align:right;padding-top:10px;">
                            <div><img id="list_view" src="{{image_path}}list_view.png" style="cursor:pointer;display:none;" onclick="showFullMap()"></div>
                            <div><img id="map_view" src="{{image_path}}map_view.png" style="cursor:pointer;display:none;" onclick="BacktoShipmentStatus()"></div>
                            <div><img id="BackToShipmentStatusTick" src="{{image_path}}tick.png" style="cursor:pointer;display:none;" onclick="BackToShipmentStatus()"></div>
                            <div class="shipment-status_normal-text" style="float:right;vertical-align:bottom;padding-top:5px;padding-bottom:10px">Image Time : <span id="FreightStatus-CreateDT"></span></div>
                        </div>
                    </div>
                </div>
                <div style="width:100%;display:table">
                    <div style="display:table-row">
                        <div style="display:table-cell;width:65%;">
                            <div id="ShipmentStatus_Left">
                                <div class="shipment-status_tab">
                                    <button type="button" class="tablinks active" onclick="switchTab(this, 'LatestStatus')">{{LocalizedString-LatestStatus}}</button>
                                    <button type="button" class="tablinks" onclick="switchTab(this, 'ShipmentHistory')">{{LocalizedString-ShipmentHistory}}</button>
                                    <button type="button" class="tabklinks" style="background-color:#fff !important; padding: 0px; float: right; margin-right:20px;" onclick="switchTab(this, 'Notification')"><img src="./img/notification.png" style="width:48px; height:48px;"></button>
                                </div>
                                <div id="LatestStatus" class="shipment-status_tabcontent" style="display : block">
                                    <div id="Latest_Status_Table">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:40px;">{{LocalizedString-Port}}</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:200px;">{{LocalizedString-Status}}</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:50px;text-align:right">{{LocalizedString-Pieces}}</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:70px;text-align:right">{{LocalizedString-Weight}}</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:120px;">{{LocalizedString-Flight}}</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:80px;">{{LocalizedString-Milestone}}</div>
                                        </div>
                                        <div id="Latest_Status-Content"></div>
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:40px;"></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:200px;text-align:right">{{LocalizedString-Total}} : </div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:50px;text-align:right"><span id="LatestStatus-TotalPieces"></span></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:70px;text-align:right"><span id="LatestStatus_TotalWeight"></span>kg</div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:120px;"></div>
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:80px"></div>
                                        </div>
                                    </div>
                                    <div id="Latest_Status_Table-No-Result">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:center">{{LocalizedString-NoLatestStatusRecord}}</div>
                                        </div>
                                    </div>
                                    <div id="Latest_Status_Table-Error-OSILine">
                                        <div style="display:table-row">
                                            <div id="Latest_Status-OSILine-Content" class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:left"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ShipmentHistory" class="shipment-status_tabcontent" style="width : 100%">
                                    <div id="Shipment_History_Table">
                                        <div style="width : 95%;text-align:right;padding-top:10px;padding-bottom : 10px;"><img id="Shipment_History_Sort_Direction_Image" src="{{image_path}}sort-asc.png" style="cursor:pointer" onclick="toggleSortShipmentHistory()" v-show="DisplayableShipmentStatusDetails.length > 0" alt="Image"></div>
                                        <div id="ShipmentHistory-Content"></div>
                                    </div>
                                    <div id="Shipment_History_Table-No-Result">
                                        <div style="display:table-row">
                                            <div class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:center">{{LocalizedString-NoShipmentHistoryRecord}}</div>
                                        </div>
                                    </div>
                                    <div id="Shipment_History_Table-Error-OSILine">
                                        <div style="display:table-row">
                                            <div id="ShipmentHistory-OSILine-Content" class="shipment-status_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:left"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="Notification" class="shipment-status_tabcontent" style="width : 100%">
                                    <div id="Notification_Table">
                                        <div style="width : 95%;text-align:right;padding-top:10px;padding-bottom : 10px;"><img id="Notification_Sort_Direction_Image" src="{{image_path}}sort-asc.png" style="cursor:pointer" onclick="toggleSortNotification()" v-show="DisplayableNotificationDetails.length > 0" alt="Image"></div>
                                        <div id="Notification-Content"></div>
                                    </div>
                                    <div id="Notification_Table-No-Result">
                                        <div style="display:table-row">
                                            <div class="notification_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:center">{{LocalizedString-NoNotificationRecord}}</div>
                                        </div>
                                    </div>
                                    <div id="Notification_Table-Error-OSILine">
                                        <div style="display:table-row">
                                            <div id="Notification-OSILine-Content" class="notification_latest_status_table_header" style="display:table-cell;width:490px;padding:20px;text-align:left"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="sensor_reading_Top" style="width: 100%;padding:10px;display:none">
                                <div class="shipment-status_normal-text"><!--Relative humidity and temperature are measured by the thermometer installed in the thermal dolly.--></div>
                                <div class="shipment-status_device_button">
                                    <div id="SensorReading-DeviceButton-Content"></div>
                                </div>
                                <div>
                                    <div id="Temperature-Scale" style="width : 580px;text-align:right"><input id="Temperature-Scale-Button" /></div>
                                    <span style="display :inline-block;width:100%"><div id="chart" style="width: 580px; height: 450px;"></div></span>
                                </div>
                                <div class="shipment-status_sensor_reading_button" style="width: 100%;padding:5px;">
                                    <button id="button_plot_temperature" type="button" class="tablinks" onclick="plotTemperature()">
                                        <div id="button_sparklines_temp" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:220px;padding-left : 5px;vertical-align:middle">{{LocalizedString-Temperature}}</span><img src="{{image_path}}temperature-25x25.png" style="vertical-align:middle"><span id="button_temperature" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align : middle;"></span>
                                        <div id="button_temperature_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_humidity" type="button" class="tablinks" onclick="plotHumidity()">
                                        <div id="button_sparklines_humid" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:170px;padding-left : 5px;vertical-align:middle">{{LocalizedString-Humidity}}</span><img src="{{image_path}}humidity-25x25.png" style="vertical-align:middle"><span id="button_humidity" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_humidity_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_light" type="button" class="tablinks" onclick="plotLight()">
                                        <div id="button_sparklines_light" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:160px;padding-left : 5px;vertical-align:middle">{{LocalizedString-Light}}</span><img src="{{image_path}}light-25x25.png" style="vertical-align:middle"><span id="button_light" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_light_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                    <button id="button_plot_shock" type="button" class="tablinks" onclick="plotShock()">
                                        <div id="button_sparklines_shock" style="width: 100%; height: 15px;"></div>
                                        <span class="shipment-status_sensor_reading" style="display :inline-block;width:170px;padding-left : 5px;vertical-align:middle">{{LocalizedString-Shock}}</span><img src="{{image_path}}shock-25x25.png" style="vertical-align:middle"><span id="button_shock" class="shipment-status_sensor_reading" style="display:inline-block;padding-left:5px;vertical-align:middle;"></span>
                                        <div id="button_shock_last_update_time" class="shipment-status_last_update_time"></div>
                                    </button>
                                </div>
                            </div>
                            <div id="temperature_and_voltage" style="width: 100%;padding:10px;display:none;">
                                <div style="display:table-row">
                                    <div style="width:100%">
                                        <div id="Temperature_and_Voltage-Content"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="display:table-cell;width:35%;vertical-align:top;">
                            <div id="ShipmentStatus_Right">
                                <div style="width : 100%;padding:5px;box-shadow : 0 4px 4px 6px rgba(0, 0, 0, 0.2);border-radius: 10px;">
                                    <div style="width : 70x;margin: auto;text-align:center">
                                        <span id="FreightStatus-Origin" class="shipment-status_airport" style="display :inline-block;width:100px;text-align:center;"></span><span style="display :inline-block;width:100px;text-align:center;vertical-align:middle"><img src="{{image_path}}plane.png"></span><span id="FreightStatus-Destination" class="shipment-status_airport" style="display :inline-block;width:100px;text-align:center;"></span>
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center;">
                                        <span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">{{LocalizedString-Pieces}}</span><span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">{{LocalizedString-Weight}}</span><!--<span class="shipment-status_measurement" style="display :inline-block;width:100px;text-align:center;">Volume</span>-->
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center">
                                        <span style="display :inline-block;width:100px;text-align:center;"><img src="{{image_path}}piece.jpg"></span><span style="display :inline-block;width:100px;text-align:center;"><img src="{{image_path}}weight.jpg"></span><!--<span style="display :inline-block;width:100px;text-align:center;"><img src="{{image_path}}volume.jpg"></span>-->
                                    </div>
                                    <div style="width : 100%;margin: auto;text-align:center">
                                        <span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;"><span id="FreightStatus-QDPieces"></span> pc</span><span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;"><span id="FreightStatus-QDWeight"></span> kg</span><!--<span class="shipment-status_measurement_figures" style="display :inline-block;width:100px;text-align:center;">??m<sup>3</sup></span>-->
                                    </div>
                                    <br />
                                    <div id="Temperature_And_Voltage_Link" class="shipment-status_subtitle" style="cursor : pointer;padding:5px;" onclick="showTemperatureAndVoltage()" v-if="FreightStatus.FreightStatusDevices.length > 0 && FreightStatus.FreightStatusDevices[0].FreightStatusDeviceHistoryLogs.length > 0">{{LocalizedString-TemperatureAndVoltageInfo}}</div>
                                    <div id="Booking_Status_Link" class="shipment-status_subtitle" style="cursor : pointer;padding:5px;" onclick="toggleBookingStatus()">{{LocalizedString-BookingStatus}} <img id="Booking_Status_Image" src="{{image_path}}arrow-right.png" /></div>
                                    <div id="Booking_Status_Table" style="padding:5px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);width:100%;display:none;">

                                        <div style="display:table-row">
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:80px"></div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">{{LocalizedString-Flight}}</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">{{LocalizedString-DepartTime}}</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:50px;">{{LocalizedString-ArrivalTime}}</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:40px;text-align:right">{{LocalizedString-Pieces}}</div>
                                            <div class="shipment-status_booking_table_header" style="display:table-cell;width:40px;text-align:right">{{LocalizedString-Weight}}</div>
                                            <!--<div class="shipment-status_booking_table_header" style="display:table-cell;">{{LocalizedString-Status}}</div>-->
                                        </div>
                                        <div id="Booking-Content"></div>

                                    </div>
                                    <div id="sensor_reading_Summary" style="display:none">
                                        <!-- Temperature -->
                                        <div id="shipment-status_sensor_reading_temperature_group">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowTemperature()">{{LocalizedString-ProductName}} - {{LocalizedString-Temperature}}</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="{{image_path}}temperature.png"></span><span id="temperature" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_temp" style="width: 90%; height: 15px;"></div>
                                            <br />
                                            <div id="temperature_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <!-- Humidity -->
                                        <div id="shipment-status_sensor_reading_humidity_group">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowHumidity()">{{LocalizedString-ProductName}} - {{LocalizedString-Humidity}}</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="{{image_path}}humidity.png"></span><span id="humidity" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_humid" style="width: 90%; height: 15px;"></div>
                                            <br />
                                            <div id="humidity_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <!-- Light -->
                                        <div id="shipment-status_sensor_reading_light_group">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowLight()">{{LocalizedString-ProductName}} - {{LocalizedString-Light}}</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="{{image_path}}light.png"></span><span id="light" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_light" style="width: 90%; height: 15px;"></div>
                                            <br />
                                            <div id="light_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <!-- Shock -->
                                        <div id="shipment-status_sensor_reading_shock_group">
                                            <div class="shipment-status_subtitle" style="padding:5px;cursor:pointer" onclick="ShipmentStatus_ShowShock()">{{LocalizedString-ProductName}} - {{LocalizedString-Shock}}</div>
                                            <div style="width: 100%;padding:5px;">
                                                <span style="display :inline-block;width:50px;vertical-align:middle"><img src="{{image_path}}shock.png"></span><span id="shock" class="shipment-status_sensor_reading" style="display :inline-block;vertical-align : middle"></span>
                                            </div>
                                            <div id="sparklines_shock" style="width: 90%; height: 15px;"></div>
                                            <br />
                                            <div id="shock_last_update_time" class="shipment-status_last_update_time"></div>
                                        </div>
                                        <div id="osm_map_mini" style="width: 320px; height: 200px;padding:10px;box-shadow : 0 4px 4px 6px rgba(0, 0, 0, 0.2)">
                                            <div class="leaflet-top leaflet-right" style="z-index : 1000;padding : 5px;">
                                                <img id="map_expand" src="{{image_path}}expand.png" style="cursor : pointer; pointer-events: auto;" onclick="showFullMap()" />
                                                <!-- <img id="map_replay" src="./img/outline_replay_black_18dp.png" style="cursor : pointer; pointer-events: auto;" onclick="initialize_device_sensor_reading()"> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display:table">
                                        <div style="display:table-row;">
                                            <div class="shipment-status_normal-text" style="display:table-cell;vertical-align:middle;line-height:50px;padding-right:5px;padding-top:5px;">
                                                Powered by
                                            </div>
                                            <div style="display:table-cell;vertical-align:middle;line-height:50px;padding-top:5px;">
                                                <img src="{{image_path}}gls_logo.png">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="width:100%">
                    <div id="osm_map" style="width: 100%; height: 500px;padding:10px;display:none"></div>
                </div>
                <div style="width:100%">
                    <div id="sensor_reading_Bottom" style="width: 100%;padding:10px;display:none">
                        <div id="sensor_reading_figures_table" style="width: 100%;padding:10px;">
                            <div id="grid"></div>
                        </div>
                    </div>
                </div>
        </div>

        </script>

        <script id="latest_status_template" type="text/x-template">
            <div style="display:table-row;" v-for="(LatestFreightStatusDetail, LatestStatusDetailIndex) in getLatestShipmentStatusDetails()">
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:40px;">{{LatestFreightStatusDetail-Airport}}</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:200px;"><img src="{{LatestFreightStatusDetail-StatusCode-Image}}" alt="Image"> {{LatestFreightStatusDetail-StatusCodeDesc}}</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:50px;text-align:right">{{LatestFreightStatusDetail-Pieces}}</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:70px;text-align:right">{{LatestFreightStatusDetail-Weight}}kg</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:120px;">{{LatestFreightStatusDetail-FlightNumber}}</div>
                <div class="shipment-status_latest_status_table_cell" style="display:table-cell;width:80px;">{{LatestFreightStatusDetail-StatusCode}}</div>
            </div>
        </script>

        <script id="shipment_history_template" type="text/x-template">
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;top:-40px;right:0px;">
                            <img src="{{ShipmentHistory-StatusCode-Image}}" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">{{ShipmentHistory-StatusCode)}}</span><span class="shipment-status_status_detail_datetime" style="float:right">{{ShipmentHistory-EventTime}}</span>
                        <br>
                        <span class="shipment-status_status_detail">{{ShipmentHistory-MDPort1}}</span><span class="shipment-status_status_detail">{{ShipmentHistory-FlightInfo}}</span><span class="shipment-status_status_detail">{{ShipmentHistory-QDPieces}}pc</span><span class="shipment-status_status_detail">{{ShipmentHistory-QDWeight}}kg</span>
                        <div class="shipment-status_status_detail">{{ShipmentHistory-Remarks}}</div>
                        <div class="geofencing" style="display:{{Display-Geofencing}};">
                            <img src="./img/geofencing.png" style="cursor: pointer;width: 32px; height: 32px; float: right;">
                            <div class="geofencing-details">{{Geofencing-Details}}</div>
                        </div>
                    </div>
					<div class="geofencing" style="display:{{Display-DCSA}};">
                        <div style="position:absolute;top:-60px;right:0px;">
                            <img src="./img/check_1r.png" onclick="showDCSAJson({{DCSA-Details}})"style="cursor: pointer;width: 32px; height: 32px; float: right;">
                        </div>
                    </div>
                </div>
            </div>
        </script>

        <script id="geofencing_template" type="text/x-template">
            <div style="width: 100%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;padding-top:5px;padding-bottom:5px;">
                        <span>IoT Device Trigger Milestone Message</span>
                        <br>
                        <br>
                        <span class="geofencing-geofenceid">Geo Fence ID: {{Geofencing-ID}}</span>
                        <br>
                        <span class="geofencing-vendor">Vendor: {{Geofencing-Vendor}}</span>
                        <br>
                        <span class="geofencing-deviceid">Device ID: {{Geofencing-DeviceID}}</span>
                        <br>
                        <span class="geofencing-deviceassetid">Device Asset ID: {{Geofencing-DeviceAssetID}}</span>
                        <br>
                        <span class="geofencing-logtimestamp">Log TimeStamp: {{Geofencing-LogTimeStamp}}</span>
                        <br>
                        <span class="geofencing-timeofreport">Time of Report: {{Geofencing-TimeOfReport}}</span>
                        <br>
                        <span class="geofencing-awbno">AWBNo.: {{Geofencing-AWBNo}}</span>
                        <br>
                        <span class="geofencing-airport">Airport: {{Geofencing-Airport}}</span>
                        <br>
                        <span class="geofencing-milestonename">Milestone Name: {{Geofencing-MilestoneName}}</span>
                        <br>
                        <span class="geofencing-locationdescription">Location Description: {{Geofencing-LocationDescription}}</span>
                        <br>
                    </div>
                </div>
            </div>
        </script>

        <script id="notification_template" type="text/x-template">
            <div style="margin-bottom:35px;padding-top : 20px;padding-bottom:15px;padding-right:10px;box-shadow : 0 4px 8px 0 rgba(0, 0, 0, 0.2);display:table;width : 95%;">
                <div style="display:table-row;">
                    <div style="display:table-cell;width:60px;position: relative;">
                        <div style="position:absolute;right:0px;">
                            <img src="{{Notification-NotificationCode-Image}}" alt="Image">
                        </div>
                    </div>
                    <div style="display:table-cell;padding-left:5px;padding-bottom:5px;">
                        <span class="shipment-status_status">{{Notification-NotificationCode)}}</span>
                        <span class="shipment-status_status_detail_datetime" style="float:right">{{Notification-NotificationTime}}</span>
                        <br>
                        <span class="shipment-status_status_detail">{{Notification-NotificationDesc}}</span>
                    </div>
                </div>
            </div>
        </script>

        <script id="booking_status_template" type="text/x-template">
            <div style="display:table-row;">
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:80px;">{{Booking-MDPort1}}&nbsp;<img src="{{Booking-Plane-Image}}" />&nbsp;{{Booking-MDPort2}}</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">{{Booking-FlightNumber}}<br />{{Booking-FlightDate}}</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">{{Booking-DTTime}}</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:50px;">{{Booking-ATTime}}</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:40px;text-align:right">{{Booking-QDPieces}}</div>
                <div class="shipment-status_booking_table_cell" style="display:table-cell;width:40px;text-align:right">{{Booking-QDWeight}}kg</div>

            </div>
            <div class="shipment-status_booking_table_cell">{{LocalizedString-Status}} : {{Booking-Status}}</div>
        </script>

        <script id="temperature_and_voltage_template" type="text/x-template">
            <div class="shipment-status_normal-text" style="display:table-cell;width: 90%;">
                {{LocalizedString-TemperatureRange}} : {{TemperatureAndVoltage-Device-TemperatureLBound}} To {{TemperatureAndVoltage-Device-TemperatureUBound}} Unit : &deg;{{TemperatureAndVoltage-Device-TemperatureUnit}}<br />
                ULD No : {{TemperatureAndVoltage-Device-ULDNo}} ORV : {{TemperatureAndVoltage-Device-VoltageAtOrigin}}  DRV : {{TemperatureAndVoltage-Device-VoltageAtDestination}} Unit : {{TemperatureAndVoltage-Device-VoltageUnit}}
            </div>
            <div id="FreightStatusDevice{{TemperatureAndVoltage-DeviceIndex}}"></div>
            <br />
            <br />
        </script>

        <script id="sensor_reading_device_button_template" type="text/x-template">
            <button type="button" id="Device{{SensorReading-DeviceIndex}}" class="tablinks{{DeviceButtonClass}}" onclick="showDeviceSensorReadings({{SensorReading-DeviceIndex}}, strCurrentSensorReadingType)">{{LocalizedString-Device}} {{SensorReading-DeviceID}}</button>
        </script>

        <!-- END - x-templates -->
        <!-- MODIFICATION END : Added at 20200830 for layout used by revamped Shipment Status -->
        <!-- MODIFICATION START : Added at 20200921 - temporarily hide original Shipment Status Result -->
        <div id="hide_original_shipment_status_result" style="display : none">
            <!-- div added by Ivan Yuen at 20200921 for hiding original Shipment Status Result -->

            <div id="tnt_booking_pane">
                <h3 data-i18n="tnt.BookingInfo">Booking Information</h3>
                <div class="blkr"><a href="javascript:void(0);" id="tnt_booking_detail_toggle" class="filter_bu_link2 collapsed" data-toggle="collapse" data-target="#tnt_booking_detail" data-i18n="tnt.Details">Details</a></div>
                <div class="head_hr"></div>
                <div id="tnt_booking_detail" class="ts_table collapse">
    <div class="trow">
        <div class="tcell col1 colp">
            <div class="flight_location">1. HKG <img src="./img/icon_gy_flight.png">NRT</div>
        </div>
        <div class="tcell cols">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols">
            <div class="flight_record"><label>Departure</label><span>15 Jan 2021, 00:55</span></div>
        </div>
        <div class="tcell cols">
            <div class="flight_record"><label>Arrival</label><span>15 Jan 2021, 06:00</span></div>
        </div>
        <div class="tcell colb">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cola" style="width: 225px">
            <a href="/trackshipment#" class="btn_not_confirm" style="min-width: 30px;"><span class="tick"></span>Space Confirm Against Allotment</a>
        </div>
    </div>
</div>
                <br>
                <br>
            </div>
            <h3 data-i18n="tnt.ShipmentStatus">Shipment Status</h3><div class="blk_rel"><div id="tnt_response_time" class="update_remark">04 Sept, 15:56</div></div>
            <div class="blkc"></div>
            <div id="tnt_response_detail" class="ts_table w_result">
    <div class="trow theader">
        <div class="tcell col1" data-i18n="tnt.No">No.</div>
        <div class="tcell cols" data-i18n="tnt.Status">Status</div>
        <div class="tcell colh" data-i18n="tnt.Airport">Airport</div>
        <div class="tcell colh" data-i18n="tnt.Flight">Flight</div>
        <div class="tcell colh" data-i18n="tnt.EventTime">Event Time</div>
        <div class="tcell colh colb">
            &nbsp;<span class="flight_pieces" data-i18n="tnt.Pieces">Pieces</span> <span class="flight_weight" data-i18n="tnt.Weight">Weight</span>
        </div>
        <div class="tcell colh" data-i18n="tnt.Remarks">Remarks</div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">1.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Freight on hand</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">HKG</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>15 Jan, 18:23</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">2.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Airline Received</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">HKG</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>15 Jan, 18:23</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">3.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Manifest received</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">HKG</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>15 Jan, 18:24</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">4.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Departed</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">HKG</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>15 Jan, 00:55</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">5.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Freight accepted at airport</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">NRT</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>02 Mar, 17:11</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow  ">
        <div class="tcell col1">
            <div class="flight_general">6.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Document delivered to forwarder</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">NRT</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>02 Mar, 17:11</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>

    <div class="trow highlighted ">
        <div class="tcell col1">
            <div class="flight_general">7.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">Arrived</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">NRT</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="./img/cx.png" class="disabled"><span style="font-weight: bold">CX006</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>15 Jan, 06:00</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">1pcs</div>
            <div class="flight_weight">100kg</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="/trackshipment#"></a></div>
        </div>
    </div>
</div>
            <div class="msg_remarks" data-i18n="tnt.GeneralRemarks">Note: The actual shipment information might be varied from original booking information</div>
            <div id="tnt_iot_header" class="disabled" style="margin-top: 12px"></div>
            <div id="tnt_iot_chart" class="disabled" style="margin-top: 12px"></div>
            <div id="tnt_iot" class="ts_table w_result disabled" style="margin-top: 12px"></div>

            <!-- Added at 20200304 START : Add display for FreightStatus_Device -->
            <div id="tnt_device_title" style="padding-top: 40px" class="disabled"><h3 data-i18n="tnt.TemperatureInformation">Temperature Information</h3></div>
            <br>
            <div id="tnt_device" class="ts_table w_result disabled"></div>
            <!-- Added at 20200304 END -->

        </div>
        <!-- MODIFICATION END : Added at 20200921 - temporarily hide original Shipment Status Result -->



    </div>
</div>
</div>

<script id="tnt_summary_template" type="text/x-template">
    <div class="blk_sty02">
        <div class="b_flight_num">
            $AWB_NUMBER$
        </div>
        <div class="cnt">
            <div class="b_flight_location">
                $ORIG$<img src="./img/icon_gy_flight.png" />$DEST$
            </div>
            <div class="b_flight_piece">
                $TOTAL_PCS$pcs
            </div>
            <div class="b_flight_weight">
                $TOTAL_WEIGHT$
            </div>
        </div>
        <div class="blkc"></div>
        $FLIGHT_INFO$
        <div class="blkc"></div>
        <div class="b_action_tool">
            <div class="divider_gy"></div>
            <a href="#" class="btn_img_share disabled"></a>
            <a href="#" class="btn_img_email disabled"></a>
            <a href="#" id="tnt_fav_switch" class="btn_img_saved off" onclick="tntMarkFav('$AWB_PREFIX$','$AWB_SUFFIX$', '$DEST$', '$AWBDATE$')"></a>
        </div>
        <div class="msg_remarks" style="padding-top: 12px;"><span>Image Time:</span>&nbsp;$IMAGE_TIME$</div>
    </div>
</script>

<script id="tnt_summary_flight_template" type="text/x-template">
    <div class="blk$ODD$ $W50$">
        <div class="gn_table w_result">
            <div class="trow">
                <div class="tcell col1">
                    <div class="label_gn">
                        <div class="lbl_arrived">$STATUS$</div>
                        <div class="lbl_location">$PORT$</div>
                    </div>
                </div>
                <div class="tcell cols">
                    <div class="flight_num">
                        <img src="/images/common/airline/$AIRLINE$.png" class="disabled" />
                        <span style="font-weight: bold">$FLIGHT_NUM$</span>
                    </div>
                    <div class="flight_date">
                        $FLIGHT_DATE$
                    </div>
                </div>
                <div class="tcell colb">
                    <div class="flight_pieces">$PCS$pcs</div>
                    <div class="flight_weight">$WEIGHT$</div>
                </div>
                <div class="tcell cols">
                    <div class="cnt_pie">
                        <div class="work$MILESTONE$ pie">
                            <div class="slice-right"></div>
                            <div class="slice-left"></div>
                            <div class="percent">
                                <div class="number">$MILESTONE$%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="tnt_booking_template" type="text/x-template">
    <div class="trow">
        <div class="tcell col1 colp">
            <div class="flight_location">$SEQ$. $ORIG$ <img src="./img/icon_gy_flight.png">$DEST$</div>
        </div>
        <div class="tcell cols">
            <div class="flight_num"><img src="/images/common/airline/$AIRLINE$.png" class="disabled"><span style="font-weight: bold">$FLIGHT_NUM$</span></div>
        </div>
        <div class="tcell cols">
            <div class="flight_record"><label>Departure</label><span>$FLIGHT_DEP_DATE$</span></div>
        </div>
        <div class="tcell cols">
            <div class="flight_record"><label>Arrival</label><span>$FLIGHT_ARR_DATE$</span></div>
        </div>
        <div class="tcell colb">
            <div class="flight_pieces">$PCS$pcs</div>
            <div class="flight_weight">$WEIGHT$</div>
        </div>
        <div class="tcell cola" style="width: 225px">
            <a href="#" class="$CONFIRM$" style="min-width: 30px;"><span class="tick"></span>$STATUSTEXT$</a>
        </div>
    </div>
</script>

<script id="tnt_detail_header_template" type="text/x-template">
    <div class="trow theader">
        <div class="tcell col1" data-i18n="tnt.No">
            No.
        </div>
        <div class="tcell cols" data-i18n="tnt.Status">
            Status
        </div>
        <div class="tcell colh" data-i18n="tnt.Airport">
            Airport
        </div>
        <div class="tcell colh" data-i18n="tnt.Flight">
            Flight
        </div>
        <div class="tcell colh" data-i18n="tnt.EventTime">
            Event Time
        </div>
        <div class="tcell colh colb">
            &nbsp;<span class="flight_pieces" data-i18n="tnt.Pieces">Pieces</span> <span class="flight_weight" data-i18n="tnt.Weight"> Weight</span>
        </div>
        <div class="tcell colh" data-i18n="tnt.Remarks">
            Remarks
        </div>
    </div>
</script>

<script id="tnt_detail_template" type="text/x-template">
    <div class="trow $HIGHLIGHTED$ $W_REMARK$">
        <div class="tcell col1">
            <div class="flight_general">$SEQ$.</div>
        </div>
        <div class="tcell col1 coltl">
            <div class="flight_general">$STATUS$</div>
        </div>
        <div class="tcell col1 colbla">
            <div class="flight_general">$PORT$</div>
        </div>
        <div class="tcell cols colblb">
            <div class="flight_num"><img src="/images/common/airline/$AIRLINE$.png" class="disabled"><span style="font-weight: bold">$FLIGHT_NUM$</span></div>
        </div>
        <div class="tcell cols colbr">
            <div class="flight_record"><span>$FLIGHT_DATE$</span></div>
        </div>
        <div class="tcell colb coltr">
            <div class="flight_pieces">$PCS$pcs</div>
            <div class="flight_weight">$WEIGHT$</div>
        </div>
        <div class="tcell cols colsp">
            <div class="flight_remark"><a href="#">$REMARKS$</a></div>
        </div>
    </div>
</script>

<script id="tnt_multi_header_template" type="text/x-template">
    <div class="trow theader" style="display: table-row;">
        <div class="tcell col1" data-i18n="tnt.AirWaybill">
            Air Waybill
        </div>
        <div class="tcell colh" data-i18n="tnt.Status">
            Status
        </div>
        <div class="tcell cols" data-i18n="tnt.Flight">
            Flight
        </div>
        <div class="tcell cols" data-i18n="tnt.EventTime">
            Event Time
        </div>
        <div class="tcell colh colb">
            &nbsp;<span class="flight_pieces" data-i18n="tnt.Pieces">Pieces</span>&nbsp;<span class="flight_weight" data-i18n="tnt.Weight">Weight</span>
        </div>
        <div class="tcell colh">

        </div>
        <div class="tcell colh">
            <div class="action_blk">
                <div class="action_switch disabled" type="button" id="dropdownMenu3" data-toggle="dropdown"></div>
                <div class="panel_action disabled" aria-labelledby="dropdownMenu3">
                    <ul>
                        <li><a href="#">Share by Email</a></li>
                        <li><a href="#">Add to Save AWB</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="tnt_multi_content_template" type="text/x-template">
    <div class="rowwrapper">
        <div class="trow" style="display: table-row;">
            <div class="tcell col1">
                <div class="bill_num">
                    <a href="#" class="awb_link" onclick="tntOpenSingle('$AWB_PREFIX$-$AWB_SUFFIX$')">$AWB_PREFIX$-$AWB_SUFFIX$</a>
                    <span id="tnt_$AWB_PREFIX$_$AWB_SUFFIX$" class="bill_marked $IS_FAV$" onclick="tntUnmarkFav('$AWB_PREFIX$','$AWB_SUFFIX$', '$DEST$', '$AWBDATE$')"></span>
                </div>
                <div class="flight_location">$ORIG$<img src="./img/icon_gy_flight.png">$DEST$</div>
            </div>
            <div class="tcell cols">
                <div class="flight_status $MILESTONE_STATUS$" title="$IMAGE_TIME$"><span>$STATUS$</span><span>$LAST_PORT$</span></div>
            </div>
            <div class="tcell cols">
                <div class="flight_num $FLIGHT_DISABLED$"><img src="/img/$AIRLINE$.png" class="disabled"><span style="font-weight: bold">$FLIGHT_NUM$</span></div>
            </div>
            <div class="tcell cols">
                <div class="flight_date">$FLIGHT_TIME$</div>
            </div>
            <div class="tcell colb">
                <div class="flight_pieces">$PCS$pcs</div>
                <div class="flight_weight">$WEIGHT$</div>
            </div>
            <div class="tcell colh">
                <div class="flight_remark">$REMARKS$</div>
            </div>
            <div class="tcell colh">
                <input class="disabled" type="checkbox">
            </div>
        </div>
    </div>
</script>

<script id="tnt_multi_content_fail_template" type="text/x-template">
    <div class="rowwrapper">
        <div class="trow" style="display: table-row;">
            <div class="tcell col1">
                <div class="bill_num">
                    <a href="#" class="awb_link" onclick="tntOpenSingle('$AWB_PREFIX$-$AWB_SUFFIX$')">$AWB_PREFIX$-$AWB_SUFFIX$</a>
                </div>
                <div class="flight_location $CHECKAGAIN_DISABLED$">
                    $ORIG$<img src="./img/icon_gy_flight.png">$DEST$
                </div>
            </div>
            <div class="tcell cols">
                <div class="flight_status $MILESTONE_STATUS$">
                    <span style="display: block;">$REASON$</span>
                    <a href="#" onclick="tntTriggerRecheck('$AWB_PREFIX$-$AWB_SUFFIX$')" class="flight_status_check $CHECKAGAIN_DISABLED$"><span>$CHECKAGAINTXT$</span></a>
                </div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell colb">
                <div class="flight_pieces"></div>
                <div class="flight_weight"></div>
            </div>
            <div class="tcell colh">
                <div class="flight_remark"></div>
            </div>
            <div class="tcell colh">
                <input class="disabled" type="checkbox">
            </div>
        </div>
    </div>
</script>

<!-- MODIFICATION START : Added at 20210226 - Jimmy - for Change to refresh only the existing row -->
<script id="tnt_multi_content_grp_fail_template" type="text/x-template">
    <div class="rowwrapper">
        <div class="trow" style="display: table-row;" id="tnt-grp-fail-awb-$AWB_PREFIX$-$AWB_SUFFIX$">
            <div class="tcell col1">
                <div class="bill_num">
                    <a href="#" class="awb_link" onclick="tntOpenSingle('$AWB_PREFIX$-$AWB_SUFFIX$')">$AWB_PREFIX$-$AWB_SUFFIX$</a>
                </div>
                <div class="flight_location $CHECKAGAIN_DISABLED$">
                    $ORIG$<img src="./img/icon_gy_flight.png">$DEST$
                </div>
            </div>
            <div class="tcell cols">
                <div class="flight_status $MILESTONE_STATUS$">
                    <span style="display: block;">$REASON$</span>
                    <a href="#" onclick="tntTriggerRecheck('$AWB_PREFIX$-$AWB_SUFFIX$')" class="flight_status_check $CHECKAGAIN_DISABLED$"><span>$CHECKAGAINTXT$</span></a>
                </div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell colb">
                <div class="flight_pieces"></div>
                <div class="flight_weight"></div>
            </div>
            <div class="tcell colh">
                <div class="flight_remark"></div>
            </div>
            <div class="tcell colh">
                <input class="disabled" type="checkbox">
            </div>
        </div>
    </div>
</script>
<!-- MODIFICATION END : Added at 20210226 - Jimmy - for Change to refresh only the existing row -->

<script id="tnt_multi_content_loading_template" type="text/x-template">

    <div class="rowwrapper">
        <div class="trow" style="display: table-row;" id="tnt-loading-awb-$AWB_PREFIX$-$AWB_SUFFIX$">
            <div class="tcell col1">
                <div class="bill_num">$AWB_PREFIX$-$AWB_SUFFIX$</div><div class="flight_location"></div>
            </div>
            <div class="tcell cols">
                <div class="flight_status"><span style="display: block; position: absolute;">Loading...</span></div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell cols">
                <div class="flight_num"></div>
            </div>
            <div class="tcell colb">
                <div class="flight_pieces"></div>
                <div class="flight_weight"></div>
            </div>
            <div class="tcell colh">
                <div class="flight_remark"></div>
            </div>
            <div class="tcell colh">
                <input class="disabled" type="checkbox">
            </div>
        </div>
    </div>
    </div>
</script>

<script id="tnt_iot_device_header" type="text/x-template">
    <div>
        <h3>IoT tracking</h3>
    </div>
    <iframe src="https://uat-ezyservices.ezbiz.com/IoTMap/v1/?watcher=$AWB_PREFIX$,$AWB_SUFFIX$,1,yellow,1558454400000" width="600px" height="480px" style="margin-top: 24px;display: block;   clear: left;"></iframe>
    <br>
</script>

<script id="tnt_iot_device_header_chart" type="text/x-template">
    <div>
        <h3>IoT Monitoring</h3>
        <canvas id="myChart" width="320" height="200"></canvas>
    </div>
</script>

<script id="tnt_iot_device_header_template" type="text/x-template">

    <div style="clear: left;">
        <span>Device Name:</span>&nbsp;<span>$DEVICE_NAME$</span><br>
        <span>Vendor:</span>&nbsp;<span>$VENDOR_NAME$</span><br>
        <span>Device Attach Time:</span>&nbsp;<span>$ATTACH_TIME$</span><br>
        <span>Device Detach Time:</span>&nbsp;<span>$DETACH_TIME$</span><br>
        <span>Temp. Upper Bound</span>&nbsp;<span>$TEMP_UBOUND$</span><br>
        <span>Temp. Lower Bound</span>&nbsp;<span>$TEMP_LBOUND$</span><br>
    </div>
    <div class="trow theader">
        <div class="tcell col1">
            No.
        </div>
        <div class="tcell cols">
            Time (GMT)
        </div>
        <div class="tcell colh">
            Battery
        </div>
        <div class="tcell colh">
            Longitude
        </div>
        <div class="tcell colh">
            Latitude
        </div>
        <div class="tcell colh">
            Light
        </div>
        <div class="tcell colh">
            Temperature
        </div>
        <div class="tcell colh">
            Humidity
        </div>
    </div>
</script>

<script id="tnt_iot_device_template" type="text/x-template">
    <div class="trow w_remark">
        <div class="tcell col1">
            <div class="flight_general">$SEQ$.</div>
        </div>
        <div class="tcell cols">
            <div class="flight_general">$TIME$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$BATTERY$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$LONG$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$LAT$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$LIGHT$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$TEMP$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$HUMIDITY$</div>
        </div>
    </div>
</script>


<!-- Added at 20200304 START : Add template for FreightStatus_Device -->

<script id="tnt_device_template" type="text/x-template">


    <div style="margin-top: 10px;margin-bottom:10px;text-align:left;font-size:12px;">
        <span><b data-i18n="tnt.TemperatureRange">Temperature range</b> :</span>&nbsp;<span>$TEMP_LBOUND$$TEMP_UNIT$ To $TEMP_UBOUND$$TEMP_UNIT$</span><br>
        <span><b>ULD :</b></span>&nbsp;<span>$ULDNO$</span>&nbsp;<span><b>ORV :</b></span>&nbsp;<span>$VOLT_ORIGIN$</span>&nbsp;<span><b>DRV :</b></span>&nbsp;<span>$VOLT_DESTINATION$</span>&nbsp;<span><b>Unit :</b></span>&nbsp;<span>$VOLT_UNIT$</span><br>
    </div>

</script>

<script id="tnt_device_historylog_header_template" type="text/x-template">

    <div class="trow theader">
        <div class="tcell cols" data-i18n="tnt.No">
            No.
        </div>
        <div class="tcell cols" data-i18n="tnt.Station">
            Station
        </div>
        <div class="tcell colh" data-i18n="tnt.CheckPoint">
            Check Point
        </div>
        <div class="tcell colh" data-i18n="tnt.Temperature">
            Temp.
        </div>
        <div class="tcell colh" data-i18n="tnt.VoltageOrPercent">
            Voltage/Percent
        </div>
        <div class="tcell colh" data-i18n="tnt.EventTime">
            Event Time
        </div>
        <div class="tcell colh" data-i18n="tnt.ActionTaken">
            Action Taken
        </div>
    </div>
</script>

<!-- Added at 20200304 END -->
<!-- Added at 20200304 - Add template for FreightStatus_DeviceHistoryLog -->

<script id="tnt_device_historylog_data_template" type="text/x-template">
    <div class="trow">
        <div class="tcell cols">
            <div class="flight_general">$SEQ$.</div>
        </div>
        <div class="tcell cols">
            <div class="flight_general">$STATION$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$LOCATION$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$TEMP$$TEMP_UNIT$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$VOLT$$VOLT_UNIT$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">$TIME$</div>
        </div>
        <div class="tcell colh">
            <div class="flight_general">&nbsp;</div>
        </div>
    </div>
</script>

<!-- Added at 20200304 END -->



</div>


</div><!-- End_Module_385 --></div>
	<div class="clear"></div>
</div>
</div></div>
</main>
</div>

<!-- Page Content END-->
</form>

<div id="loading" class="container wbg disabled" style="display: block; width: 100%">
    <div class="loading-main">
        <span id="loading_message" data-i18n="common.Loading">Loading...</span>
    </div>
</div>
<div id="loading_partial" class="loading-panel disabled">
	<span id="loading_message_partial" data-i18n="common.LoadingMore">Loading more results. This may take a while...</span>
</div>
<style>
#loading {
	position: fixed;
    margin-top: 240px;
    top: 0px;
    z-index: 999;
}

@media screen and (max-width: 977px)
{
	#loading {
		margin-top: 42px;
	}
}
</style>

<footer class="footer" style="margin-top: 296px;"> 
	<div class="container">
		<div class="blkl">
			<div class="blklogo"><img src="./img/logo_gls.png" title="Global Logistics System (HK)Co.Ltd">
				<span>
					<span></span>
					<span id="footer-year">2021</span>&nbsp;
					<span data-i18n="footer.GLS">Global Logistics System (HK) Co. Ltd</span><br>
					<span data-i18n="footer.Copyright">All rights reserved.</span>
				</span>
			</div>
			<ul class="mainmenu">
				<li><a data-i18n="menu.TrackShipment" href="#">Booking</a></li>
				<li><a data-i18n="menu.FlightAvailability" href="#">Track Shipment</a></li>
			</ul>
			<div class="blkc"></div>
		</div>
		<div class="blkr">
			<img src="./img/icon_gn_phone.png">
			<span data-i18n="footer.Helpdesk">Help desk</span>
			<span>+852 2838 1999  </span><br>
			

<span data-i18n="footer.Language">Languages</span><span class="dot"></span>   
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_lnk_enUS" class="fglink lang_enUS" href="#">English</a><span class="dot lang_enUS"></span>
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_lnk_zhHK" class="fglink lang_zhHK" href="#"></a><span class="dot lang_zhHK"></span>
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_lnk_zhCN" class="fglink lang_zhCN" href="#"></a><span class="dot lang_zhCN"></span>
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_lnk_jaJP" class="fglink lang_jaJP" href="#"></a><br>
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_Lnk_deDe" class="fglink" href="#">Deutsche</a><span class="dot"></span>
<a id="dnn_GLS_FOOTER_GLS_LANGUAGE_Lnk_esES" class="fglink" href="#">Espaol</a>	  
		</div>
		<div class="blkr" style="clear: right">
			<span id="classicLink" class="">
				<a id="classicLinkHref_1" href="#" class="btn_classic">
					<span data-i18n="common.EzyCargoClassic" style="font-size:13px">EzyCargo Classic</span>
				</a>
			</span>
		</div>
		<div class="blkc"></div>
	</div>
</footer>

<style>
    .mainmenu li a {
		color: #fff;
		text-decoration: none;
		cursor: pointer;
    }
</style>
	  
<script>

$(document).ready(function(){
    $("#d-off-canvas-trigger").click(function(){
        $(".active_page").toggleClass(function(){
            return "freeze_page";
        });
    });
});
$(document).ready(function() {
    $(window).resize(function() {
		var bodyheight = $(window).height();
		$(".navbar-collapse.collapse").height(bodyheight-105);
    }); 
   
    $("#footer-year").html(new Date().getFullYear());
});

function FootRedirect(subUrl){
	window.location.href = window.location.origin + '/' + i18next.language + subUrl;
}
</script>

<!-- Dialog -->
<div>
	<style>
    .bootstrap_modal {
        z-index: 9991;
    }
	
	.bootstrap_modal .modal-header{
		background: #00AEEB;
		color: white;
		border-top-left-radius: 5px;
		border-top-right-radius: 5px;
	}

    .bootstrap_modal .btn {
        background: #00AEEB;
        padding: 6px 30px;
        color: #FFF;
        font-size: 16px;
        border-radius: 2px;
        font-family: inherit;
    }

    .bootstrap_modal #message {
        white-space: pre-wrap;
    }
</style>

<div id="modal" class="modal bootstrap_modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="title" data-i18n="common.System">common.System</h4>
            </div>
            <div class="modal-body">
                <p id="message"></p>
            </div>
            <div class="modal-footer">
                <button id="btn_confirm" type="button" class="btn btn-default" data-i18n="dialog.Confirm" style="display: none;">Confirm</button>
                <button id="btn_close" type="button" class="btn btn-default" data-i18n="dialog.Close">Close</button>
            </div>
        </div>

    </div>
</div>

<script>
	
    var DialogManager = {

        alert: function (header, msg, close, modalOpts) {
            var dialogManager = this;
			
			var opts = _.merge(this.getDefModalOpts(), modalOpts);
			$("#modal").modal(opts);
			
            if (header)
                $('#modal #title').text(header);

            if (Array.isArray(msg))
                $('#modal #message').text(dialogManager.getMsgFromArray(msg));
            else
                $('#modal #message').text(msg);

            $('#modal #btn_close').click(function () {
                if (typeof close === "function") {
                    close();
                }
                $("#modal").modal('hide');
            });
        },

        confirm: function (header, msg, confirm, close, modalOpts) {
            var dialogManager = this;
			
			var opts = _.merge(this.getDefModalOpts(), modalOpts);
			$("#modal").modal(opts);
			
            if (header)
                $('#modal #title').text(header);

            if (Array.isArray(msg))
                $('#modal #message').text(dialogManager.getMsgFromArray(msg));
            else
                $('#modal #message').text(msg);
				
            $('#modal #btn_confirm').show();

            $('#modal #btn_confirm').click(function () {
                if (typeof confirm === "function") {
                    confirm();
                }
                $("#modal").modal('hide');
            });

            $('#modal #btn_close').click(function () {
                if (typeof close === "function") {
                    close();
                }
                $("#modal").modal('hide');
            });
        },

        reset: function () {
			$("#modal").data('bs.modal', null);
		
            $('#modal #title').text(i18next.t('common.System'));
            $('#modal #message').text('');
            $('#modal #btn_confirm').hide();
			
            $('#modal #btn_confirm').off('click');
            $('#modal #btn_close').off('click');
        },

        getMsgFromArray: function (arr) {
            return arr.join("\n");
        },
		
		getDefModalOpts: function () {
			return {
				backdrop: true,
				show: true,
				keyboard: true
			}
		}
    };

    $(function () {
        DialogManager.reset();
		$('#modal').on('hide.bs.modal', function () {
			DialogManager.reset();
		})

		$(document).on('keydown', function (e) {
			if(!($("#modal").data('bs.modal') || {}).isShown)
				return;
				
			//enter
			if (e.which == 13) {
				$("#btn_confirm").click();
				e.stopPropagation();
			}
			//escape
			else if(e.which == 27){
				$("#btn_close").click();
				e.stopPropagation();
			}
		})
    })
</script>
</div>
        <input name="ScrollTop" type="hidden" id="ScrollTop">
        <input name="__dnnVariable" type="hidden" id="__dnnVariable" autocomplete="off">
</body></html>